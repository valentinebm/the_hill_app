Started GET "/" for ::1 at 2016-07-21 19:12:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 682ms (Views: 671.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 19:12:14 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 19:15:51 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 46ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 19:15:56 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 33ms (Views: 30.9ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174007)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174007)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (125.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (124.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174650"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-21 17:46:57 UTC], ["updated_at", 2016-07-21 17:46:57 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToUsers (20160721174724)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-21 17:48:15 UTC], ["updated_at", 2016-07-21 17:48:15 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-21 20:03:00 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 550ms (Views: 532.8ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:07:09 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 404ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fc13a905648>:0x007fc138e82e10>
Did you mean?  current_page?):
    12:     <%= yield %>
    13: 
    14:     <div id="user-widget">
    15:     <% if current_user %>
    16:       Welcome <strong><%= current_user.name %></strong>!
    17:       <%= link_to "Sign out", signout_path, id: "sign_out" %>
    18:     <% else %>
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb__3480153660324173621_70233933357380'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.9ms)
Started GET "/" for ::1 at 2016-07-21 20:07:43 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 286ms (Views: 273.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:07:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:07:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBBly8CJzvo5jh-cmnY9CNAsl1d457tq9TvtdjPyqfxFImp-sLtaU2vfQ9NcYqRwLxUqFFDzQbMA7rYA8p3wOasutZq8oEEJkPfwZpoHPFkIUuVhXxufjRA8j9n2LcCgknkheRMV19mpZLslDAsheIlHjFe1Gl1_qZMZt7pE0VzADdO6bRyn9BkGQgPn9eWQdYu59SLFpde4LobyBMo-W3b7lmtOBrL2anSdGmDPkmwRryS27bhD2hiw6Q-TF9yDpDmNrYHBwR5aZbh49Waf8mIwrbMFFSb7N8hyThP0o1x_KlaozTJkEjRvGR2vFgknho&state=936ed7af600e5af8b7d5d2d362d029ef2f7099000b6895e6" for ::1 at 2016-07-21 20:08:02 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBBly8CJzvo5jh-cmnY9CNAsl1d457tq9TvtdjPyqfxFImp-sLtaU2vfQ9NcYqRwLxUqFFDzQbMA7rYA8p3wOasutZq8oEEJkPfwZpoHPFkIUuVhXxufjRA8j9n2LcCgknkheRMV19mpZLslDAsheIlHjFe1Gl1_qZMZt7pE0VzADdO6bRyn9BkGQgPn9eWQdYu59SLFpde4LobyBMo-W3b7lmtOBrL2anSdGmDPkmwRryS27bhD2hiw6Q-TF9yDpDmNrYHBwR5aZbh49Waf8mIwrbMFFSb7N8hyThP0o1x_KlaozTJkEjRvGR2vFgknho", "state"=>"936ed7af600e5af8b7d5d2d362d029ef2f7099000b6895e6"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-21 18:08:06 UTC], ["updated_at", 2016-07-21 18:08:06 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 35ms (ActiveRecord: 9.1ms)


  
NoMethodError (undefined method `email=' for #<User:0x007f97595ac1a0>):
  
app/models/user.rb:5:in `create_with_omniauth'
app/controllers/sessions_controller.rb:4:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (67.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnsToUsers (20160721181006)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-21 20:11:26 +0200
Started GET "/" for ::1 at 2016-07-21 20:11:26 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 579ms (Views: 566.7ms | ActiveRecord: 0.0ms)


Completed 200 OK in 569ms (Views: 566.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:11:29 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:11:29 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA0p-yaNafG9yYbfZtG9E7Wu0BqVBxU-GDJOhOJ1X5cfrlNbOdzCxubkekYII4OxElfgquykhkphc_WGhZikjkA5iLR5Dscmr668fMbl7AuAF8bFIRIXgqhgHQJhCkHOFOY6aa_ZP6g4pQBnUKP-3inYYnoYVgIt2stHPScvEMQkF3zycxDA4EU3WGsYr7jX4VOdR23PR6gahT_ltw0XBX5DmSU0swvMP8ggGMESUNK9FbL5R7GQzRyTxTonKzi9barIxxbNjovUDbqqJSPjgKPsIKB_ckCL4tH6QMFE1PoM0BLOvQUoIBmBV9S8LxerYA&state=94814f9b965e5734beb19daddfe8c0ec9e3db517c81c1750" for ::1 at 2016-07-21 20:11:29 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQA0p-yaNafG9yYbfZtG9E7Wu0BqVBxU-GDJOhOJ1X5cfrlNbOdzCxubkekYII4OxElfgquykhkphc_WGhZikjkA5iLR5Dscmr668fMbl7AuAF8bFIRIXgqhgHQJhCkHOFOY6aa_ZP6g4pQBnUKP-3inYYnoYVgIt2stHPScvEMQkF3zycxDA4EU3WGsYr7jX4VOdR23PR6gahT_ltw0XBX5DmSU0swvMP8ggGMESUNK9FbL5R7GQzRyTxTonKzi9barIxxbNjovUDbqqJSPjgKPsIKB_ckCL4tH6QMFE1PoM0BLOvQUoIBmBV9S8LxerYA", "state"=>"94814f9b965e5734beb19daddfe8c0ec9e3db517c81c1750"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-21 18:11:30 UTC], ["updated_at", 2016-07-21 18:11:30 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 38ms (ActiveRecord: 6.7ms)


Started GET "/" for ::1 at 2016-07-21 20:11:30 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.5ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-21 20:12:30 +0200
  
ActionController::RoutingError (uninitialized constant SessionController):
  
activesupport (5.0.0) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.0) lib/action_dispatch/http/request.rb:93:in `controller_class'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered collection of /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [4 times] (14.6ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (11.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (103.0ms)
Started GET "/" for ::1 at 2016-07-21 20:14:04 +0200
  
SyntaxError (/Users/valentinebm/Desktop/the_hill_repo/the_hill_app/config/routes.rb:7: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('
  get 'signout', to: 'session#destroy', as 'signout'
                                            ^):
  
config/routes.rb:7: syntax error, unexpected tSTRING_BEG, expecting keyword_do or '{' or '('
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.7ms)
Started GET "/" for ::1 at 2016-07-21 20:14:12 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 47ms (Views: 41.5ms | ActiveRecord: 3.8ms)


Started GET "/" for ::1 at 2016-07-21 20:14:26 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.3ms)


Started GET "/signout" for ::1 at 2016-07-21 20:14:28 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:14:28 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 30ms (Views: 26.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:14:29 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:14:29 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCkJ9AEzsbPVC45MRZaDeSgip0rywOGaobqMUD93axwzLFEZt4h-8VxioYVSXA9HsjgoCNg4SJiqbQ3_BzhRb9faKTKu6AtlM9ebJ6AAkytb4ArFco05R-AW4UwxP1adVTFEgpESWeVA3Z6f6Etx-vboacPVC4QtSWbJMBwFoJf4Oq_efPGDjp8q5MgS4yqmZStsX0cHDUmmXtNfw4VrvJULwb7lSM1VyK0w5VSUzBRxbDEOzR4SvMZ4RTxecCey0M6PPdOrCCDv-tUVK8iGUn5RIgxpUDOHps790T5_UU8QGXVUCLchPmxLHlebMsIfzw&state=2c85ef3fe0bdf7f2846b62cf4fe7eecdef1868de5eb3e279" for ::1 at 2016-07-21 20:14:29 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCkJ9AEzsbPVC45MRZaDeSgip0rywOGaobqMUD93axwzLFEZt4h-8VxioYVSXA9HsjgoCNg4SJiqbQ3_BzhRb9faKTKu6AtlM9ebJ6AAkytb4ArFco05R-AW4UwxP1adVTFEgpESWeVA3Z6f6Etx-vboacPVC4QtSWbJMBwFoJf4Oq_efPGDjp8q5MgS4yqmZStsX0cHDUmmXtNfw4VrvJULwb7lSM1VyK0w5VSUzBRxbDEOzR4SvMZ4RTxecCey0M6PPdOrCCDv-tUVK8iGUn5RIgxpUDOHps790T5_UU8QGXVUCLchPmxLHlebMsIfzw", "state"=>"2c85ef3fe0bdf7f2846b62cf4fe7eecdef1868de5eb3e279"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)


Started GET "/" for ::1 at 2016-07-21 20:14:30 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.6ms)


Started GET "/signout" for ::1 at 2016-07-21 20:15:24 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:15:24 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 37ms (Views: 33.8ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:16:56 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:16:57 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:16:58 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:16:58 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA74x7PFj8WP-wUyWuNcAtU5w4gYi80NHaJ8ErUGdX_8_vLvSGurOyR7R2jrSG-Ua2phEanAwIjd0qkAYQaowfqCCgtHKN_qo5XhyapNBvN3vW25o2tu-AT4yCkg1nipC7wvYK_sXjUGLDTUoGTVmtpHxKzG50qNd-VrtbhJSij3AdO-ASLpmTobkKTqgYWEbDKzXe565Q0-IypgiW3SDM6Ev7pXg4C_zhEoybyeKH-dpRlz-hzIy7q9YyPbUTgjUz5_a3kgjCQaGzivdaAeD9sYlTRaCVze_vFz3GeRrjcC8vNg5y4VVCAYbKIbA2B02E&state=8539e9bd2b8b98ff6256ddf1371618407e1ada3a929d5831" for ::1 at 2016-07-21 20:16:58 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQA74x7PFj8WP-wUyWuNcAtU5w4gYi80NHaJ8ErUGdX_8_vLvSGurOyR7R2jrSG-Ua2phEanAwIjd0qkAYQaowfqCCgtHKN_qo5XhyapNBvN3vW25o2tu-AT4yCkg1nipC7wvYK_sXjUGLDTUoGTVmtpHxKzG50qNd-VrtbhJSij3AdO-ASLpmTobkKTqgYWEbDKzXe565Q0-IypgiW3SDM6Ev7pXg4C_zhEoybyeKH-dpRlz-hzIy7q9YyPbUTgjUz5_a3kgjCQaGzivdaAeD9sYlTRaCVze_vFz3GeRrjcC8vNg5y4VVCAYbKIbA2B02E", "state"=>"8539e9bd2b8b98ff6256ddf1371618407e1ada3a929d5831"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2016-07-21 20:16:59 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.4ms)


Started GET "/signout" for ::1 at 2016-07-21 20:18:49 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:18:49 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:18:51 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:18:52 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAWquwVcWwsR-W599b_A1xafvKb3jm6ioqMur68eFdU4zdpWhaoSrlctyOyrLV3ZXnhJr7Mn98VWD6-Q8ClrqRgAKKjUauKcZuHxPfb41bJ78eY9-tAVPeECFAmCWN0sY5Mr7jrsZeJ4PJ0yZnwPXz129AjGgcNJcnFFUfEvUXdojdhO3LFVy6w4aj0Fcbwt1ZUCV2OzlwzB3gXR3MDi1CftdHwuNn5B1tpYP9A0tGQUkIaS_vImB_DK4w7_XJtHyVlWvrD2OMTwEjLQdeuw-KBmxF-ND1O8fpHGY5jOuE8w6T6hAL9RPEyGPJQPq_xQdU&state=d6162dc217115f1a50a0a16213803b34fcf89079d1e08ade" for ::1 at 2016-07-21 20:18:52 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAWquwVcWwsR-W599b_A1xafvKb3jm6ioqMur68eFdU4zdpWhaoSrlctyOyrLV3ZXnhJr7Mn98VWD6-Q8ClrqRgAKKjUauKcZuHxPfb41bJ78eY9-tAVPeECFAmCWN0sY5Mr7jrsZeJ4PJ0yZnwPXz129AjGgcNJcnFFUfEvUXdojdhO3LFVy6w4aj0Fcbwt1ZUCV2OzlwzB3gXR3MDi1CftdHwuNn5B1tpYP9A0tGQUkIaS_vImB_DK4w7_XJtHyVlWvrD2OMTwEjLQdeuw-KBmxF-ND1O8fpHGY5jOuE8w6T6hAL9RPEyGPJQPq_xQdU", "state"=>"d6162dc217115f1a50a0a16213803b34fcf89079d1e08ade"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2016-07-21 20:18:52 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.7ms)


Started GET "/signout" for ::1 at 2016-07-21 20:19:00 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:19:00 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:19:20 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:19:21 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA3OKAy2NeJ-cZ0jIBi90rqs2hx17PR5Ar9AxH91jZeS4pCNmAqeNTNSAo1Y0gMBD5SVhrCJ356GI4Y2gQkRAtfSwSh0Ky3EwqV2xDEVpjx75PhVLEbKhjdL7fx5jSl_cByYf7Ii_8QFOBv4bgvyDNeixj3K9lct-8_OVyH81OMg4mxg7Lwzt0ybQ5D6oAWCAXjqLJ7fVCkaaJpc1YMrruE9st4zSAKo7zDn7nuh1JEE02332URgfm2gwOynGVhtSuaV53uqT7VYEuUDuWZTIqEJ8jri1A23UrSHki8i4RUN-kfTvmHrZGpS3ptuAkA2pI&state=5062f7f54b9b241d431f2169e3a9a54d60562e6cd4402e38" for ::1 at 2016-07-21 20:19:21 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQA3OKAy2NeJ-cZ0jIBi90rqs2hx17PR5Ar9AxH91jZeS4pCNmAqeNTNSAo1Y0gMBD5SVhrCJ356GI4Y2gQkRAtfSwSh0Ky3EwqV2xDEVpjx75PhVLEbKhjdL7fx5jSl_cByYf7Ii_8QFOBv4bgvyDNeixj3K9lct-8_OVyH81OMg4mxg7Lwzt0ybQ5D6oAWCAXjqLJ7fVCkaaJpc1YMrruE9st4zSAKo7zDn7nuh1JEE02332URgfm2gwOynGVhtSuaV53uqT7VYEuUDuWZTIqEJ8jri1A23UrSHki8i4RUN-kfTvmHrZGpS3ptuAkA2pI", "state"=>"5062f7f54b9b241d431f2169e3a9a54d60562e6cd4402e38"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-21 18:19:22 UTC], ["updated_at", 2016-07-21 18:19:22 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 4.1ms)


Started GET "/" for ::1 at 2016-07-21 20:19:22 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.4ms)


Started GET "/signout" for ::1 at 2016-07-21 20:19:24 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:19:24 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 36ms (Views: 32.7ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:19:32 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 280ms (Views: 268.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:19:34 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:19:34 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDEknyNaPxXlScP5g_dOqWj8qU_GJOAIU0r8uqhBhRKQqE1mHRrTn5Yb3GR9tMfUmLaWxYTSYMAuiB6Ns2G35G-lTKWmBGTgjMbIb9qCtk7l3jVmkAYRrqvuFx6lWfiowdLnmFZOpr2kMkCrAS71ib_Wjt9IPm6BSxnusbqe00w4UwfTKsGX-KyZUrl5QCZexW7XqMzKn6Xr0L2Ecqvb4jVwFlwv3rLXlQpuJ5XQzC2U41-zKRb50wfEl5fhHgw6nScI2moe5rpL8GCMphb3NdRv5M7na1AA5_6rtU9nroM66xUBYj-J-65yVjCd6QJYgg&state=479786daa48641a264a172301a5ca57081e19138a05791c8" for ::1 at 2016-07-21 20:19:35 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDEknyNaPxXlScP5g_dOqWj8qU_GJOAIU0r8uqhBhRKQqE1mHRrTn5Yb3GR9tMfUmLaWxYTSYMAuiB6Ns2G35G-lTKWmBGTgjMbIb9qCtk7l3jVmkAYRrqvuFx6lWfiowdLnmFZOpr2kMkCrAS71ib_Wjt9IPm6BSxnusbqe00w4UwfTKsGX-KyZUrl5QCZexW7XqMzKn6Xr0L2Ecqvb4jVwFlwv3rLXlQpuJ5XQzC2U41-zKRb50wfEl5fhHgw6nScI2moe5rpL8GCMphb3NdRv5M7na1AA5_6rtU9nroM66xUBYj-J-65yVjCd6QJYgg", "state"=>"479786daa48641a264a172301a5ca57081e19138a05791c8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:9)
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 5.6ms)


Started GET "/" for ::1 at 2016-07-21 20:19:35 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 30ms (Views: 27.5ms | ActiveRecord: 0.5ms)


Started GET "/signout" for ::1 at 2016-07-21 20:19:48 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:19:48 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 40ms (Views: 37.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:19:49 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:19:50 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA7E29GNnUEnoTcnU5dr-617wtLjRhJnhIpOvPwInP7llSmz_8hBcRa_aXC3_JHp6wT18mrFRjT2mE8NmFlKH84flHdHVx3cMOhEJNcoDaEpuz0BdVqAdlwjdLD8xIg1tHHYVlp_9wVmU0yGEU5NGYJEA3rjrOZMj8ZzbAaFS5yJF7YDNjhTdGe6jr0setv2xkSgGE4yg4haukj_Q-twBa-ABok4U6azgs6V7wfxfV3DIySAckCZ5R_fXjuo1hoaAcpEtL6yJNVAU_OnbfQ-Kxvm435NWk1XjPCT_eQt2jGz5pnASE49LZWSGsGxO6nDH0&state=81f33734ac1cf36356c6a82e465dadea8de95eef28b8b30f" for ::1 at 2016-07-21 20:19:50 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQA7E29GNnUEnoTcnU5dr-617wtLjRhJnhIpOvPwInP7llSmz_8hBcRa_aXC3_JHp6wT18mrFRjT2mE8NmFlKH84flHdHVx3cMOhEJNcoDaEpuz0BdVqAdlwjdLD8xIg1tHHYVlp_9wVmU0yGEU5NGYJEA3rjrOZMj8ZzbAaFS5yJF7YDNjhTdGe6jr0setv2xkSgGE4yg4haukj_Q-twBa-ABok4U6azgs6V7wfxfV3DIySAckCZ5R_fXjuo1hoaAcpEtL6yJNVAU_OnbfQ-Kxvm435NWk1XjPCT_eQt2jGz5pnASE49LZWSGsGxO6nDH0", "state"=>"81f33734ac1cf36356c6a82e465dadea8de95eef28b8b30f"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:9)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)


Started GET "/" for ::1 at 2016-07-21 20:19:50 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.7ms)


  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/signout" for ::1 at 2016-07-21 20:19:58 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:19:58 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 34ms (Views: 31.3ms | ActiveRecord: 0.0ms)


  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (2.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
Started GET "/" for ::1 at 2016-07-21 20:22:10 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 291ms (Views: 280.0ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:22:12 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:22:14 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:22:14 +0200
(facebook) Request phase initiated.
Started GET "/" for ::1 at 2016-07-21 20:24:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:24:03 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:24:03 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDHUJjUrwRyYZqDJ_FOBi2uCTaKm3lrZYaeQogxb2DED_DLtC_ZDV8Qzpnz2Et-TX9r4pt8-3t9Qe0EHjjEPnXx0YmeUmiarg6DOzwHlb1CKrjbZMO99crHmdp54lea6u241DKgoRfWW6eHKbKetKuFu9WGcZYwijAYVIs4mKF8ZEJ51W89TKx-VnvzIadv1TFgbMH1-_MyEyAhgBXH-eoA4kqcLsRSn9X9Yad8clxgDtU_KT7IMT4ZVrDOdbIOviBjNmHj0jofkdpx8IO3nHP34OIAcfsrrP4a2NykKILXNuL9aSvKv4HUPCRlZRqOEIc&state=e6af9167621a77da0ffd21832cd3b7fc0599bcb9da3284c3" for ::1 at 2016-07-21 20:24:09 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDHUJjUrwRyYZqDJ_FOBi2uCTaKm3lrZYaeQogxb2DED_DLtC_ZDV8Qzpnz2Et-TX9r4pt8-3t9Qe0EHjjEPnXx0YmeUmiarg6DOzwHlb1CKrjbZMO99crHmdp54lea6u241DKgoRfWW6eHKbKetKuFu9WGcZYwijAYVIs4mKF8ZEJ51W89TKx-VnvzIadv1TFgbMH1-_MyEyAhgBXH-eoA4kqcLsRSn9X9Yad8clxgDtU_KT7IMT4ZVrDOdbIOviBjNmHj0jofkdpx8IO3nHP34OIAcfsrrP4a2NykKILXNuL9aSvKv4HUPCRlZRqOEIc", "state"=>"e6af9167621a77da0ffd21832cd3b7fc0599bcb9da3284c3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-21 18:24:09 UTC], ["updated_at", 2016-07-21 18:24:09 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:9)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 49ms (ActiveRecord: 6.3ms)


Started GET "/" for ::1 at 2016-07-21 20:24:09 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 47ms (Views: 44.3ms | ActiveRecord: 0.5ms)


Started GET "/signout" for ::1 at 2016-07-21 20:24:15 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:24:15 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 45ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:27:25 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:27:25 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDseO8jh7JYng9l5lxUqT8X2PGtFdklb0xnVNREKRMqCxcYkIBABqoevCLohlNQ214I26AKUwtzkk39O6YmnIaFQEyf25_u1ZFduy7K-9GrxozeKp2BFfpWlKj9q8X7LRtrkRZi0VngQeayAHcNss5qeh1_g93dmJcNrZ3C8bnPsa_fY0EwLA5Yv4UP_M-VG1R4dmvk07g6_l-3p6QVfnTIjBpEmqBKddOlyXbEhtj8EzsKAs40c_xI1JGX_T1Qm7rW9VPB0l6W76Zqp5Wu-VUzr0sDfSGHDmXfULWpPweAtiaJkM2GGCm4D3ZGrNE_NcQ&state=61966ca8672da64d7ef8e38bccc87c5d4c5c159e11043ae2" for ::1 at 2016-07-21 20:27:25 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDseO8jh7JYng9l5lxUqT8X2PGtFdklb0xnVNREKRMqCxcYkIBABqoevCLohlNQ214I26AKUwtzkk39O6YmnIaFQEyf25_u1ZFduy7K-9GrxozeKp2BFfpWlKj9q8X7LRtrkRZi0VngQeayAHcNss5qeh1_g93dmJcNrZ3C8bnPsa_fY0EwLA5Yv4UP_M-VG1R4dmvk07g6_l-3p6QVfnTIjBpEmqBKddOlyXbEhtj8EzsKAs40c_xI1JGX_T1Qm7rW9VPB0l6W76Zqp5Wu-VUzr0sDfSGHDmXfULWpPweAtiaJkM2GGCm4D3ZGrNE_NcQ", "state"=>"61966ca8672da64d7ef8e38bccc87c5d4c5c159e11043ae2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:9)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2016-07-21 20:27:26 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.4ms)


  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (3.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/" for ::1 at 2016-07-21 20:41:08 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (21.1ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 3.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=4):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__3771290392254834342_70098173437200'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (79.2ms)
Started GET "/" for ::1 at 2016-07-21 20:41:13 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.6ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=4):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__3771290392254834342_70098195497940'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.1ms)
Started GET "/" for ::1 at 2016-07-21 20:41:31 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (19.0ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 4.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=4):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__1136589840454413056_70147498168300'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (71.4ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/" for ::1 at 2016-07-21 20:42:12 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (18.1ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 4.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=4):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__3288574008254694403_70357963904260'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (67.9ms)
Started GET "/" for ::1 at 2016-07-21 20:42:52 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 222ms (Views: 220.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:42:57 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (7.3ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=4):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__3288574008254694403_70357958123840'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (12.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.7ms)
Started GET "/" for ::1 at 2016-07-21 20:43:02 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 33ms (Views: 30.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:43:03 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:43:03 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBnWiMEdkibwKdR3wgkZLCTpZTTivW4c5RXfEs2diGOZPxQ2wWP2K_xvwcAY9XfQCuFGOv428g56XeCnorYkN0V20N3Xm7x7tdqHsnTVjgNt_8RucQ8pBVMEalAPQ7y2vTDlvTHkk7bEVvvxnNURwKtGiJrfK_7lBurmKS3P3hOPRG5ogTxXOzaU2d1FO0prDLoD1y_Fd8QirYfc5GMIy7xa8o8R1-hcEnUDu3PSwYkmp1hTjgUhUNG360bhW8sf0AYTOgZCQxpBm7tiEgKd2Nkcjc-zpER-YrMhDOQ7lPCGx1yvTHMuWsoxMW7avROsoY&state=e5117ae494959a90def6643dbb33d03c1e945179272d4364" for ::1 at 2016-07-21 20:43:03 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBnWiMEdkibwKdR3wgkZLCTpZTTivW4c5RXfEs2diGOZPxQ2wWP2K_xvwcAY9XfQCuFGOv428g56XeCnorYkN0V20N3Xm7x7tdqHsnTVjgNt_8RucQ8pBVMEalAPQ7y2vTDlvTHkk7bEVvvxnNURwKtGiJrfK_7lBurmKS3P3hOPRG5ogTxXOzaU2d1FO0prDLoD1y_Fd8QirYfc5GMIy7xa8o8R1-hcEnUDu3PSwYkmp1hTjgUhUNG360bhW8sf0AYTOgZCQxpBm7tiEgKd2Nkcjc-zpER-YrMhDOQ7lPCGx1yvTHMuWsoxMW7avROsoY", "state"=>"e5117ae494959a90def6643dbb33d03c1e945179272d4364"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-21 18:43:04 UTC], ["updated_at", 2016-07-21 18:43:04 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:10)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 6.8ms)


Started GET "/" for ::1 at 2016-07-21 20:43:04 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 27ms (Views: 25.5ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:43:11 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2016-07-21 20:43:13 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2016-07-21 20:43:15 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 0.6ms)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-21 20:44:22 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:44:22 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.0ms)


  [1m[35mSQL (2.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/" for ::1 at 2016-07-21 20:45:23 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:45:33 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 282ms (Views: 270.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:45:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:45:36 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDyedX-7dB0_dZA4Le2eF6hrnKT4UignVLUcgD1CKkmA2CC_5quvV0C-zLdQ9zq94Sd5VFG-CRT_62NOIq0YD8Rti_GLv5VulsmArUJC6kV7kw_i_u4xNgNWGgBSA4x99go5MJAPOjGhzNxImRMLLAOhkHlje46fM6zb7zFdZRtHpV2OVNwGLI25u3UwDaXUu97pAC9Jx7wJIIAN5EJ-xgaM_wvvUDwop_cirtN8e_ybdbsU7oZGkAFz6vpNQfVs8cLBqKbPfwo1UMaVui-rGdV6wv8my9SCxAM2eBdivBn0oxMzO22qRtk1A1Wa5HcGkQ&state=cbc2025927991d3e6e020ace2ae0e60054dae0211af7d60a" for ::1 at 2016-07-21 20:45:43 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDyedX-7dB0_dZA4Le2eF6hrnKT4UignVLUcgD1CKkmA2CC_5quvV0C-zLdQ9zq94Sd5VFG-CRT_62NOIq0YD8Rti_GLv5VulsmArUJC6kV7kw_i_u4xNgNWGgBSA4x99go5MJAPOjGhzNxImRMLLAOhkHlje46fM6zb7zFdZRtHpV2OVNwGLI25u3UwDaXUu97pAC9Jx7wJIIAN5EJ-xgaM_wvvUDwop_cirtN8e_ybdbsU7oZGkAFz6vpNQfVs8cLBqKbPfwo1UMaVui-rGdV6wv8my9SCxAM2eBdivBn0oxMzO22qRtk1A1Wa5HcGkQ", "state"=>"cbc2025927991d3e6e020ace2ae0e60054dae0211af7d60a"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-21 18:45:43 UTC], ["updated_at", 2016-07-21 18:45:43 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "name" = $4 WHERE "users"."id" = $5[0m  [["updated_at", 2016-07-21 18:45:43 UTC], ["email", "10157207096260113@facebook.com"], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 6]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:10)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 45ms (ActiveRecord: 9.1ms)


Started GET "/" for ::1 at 2016-07-21 20:45:44 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (14.6ms)
Completed 200 OK in 49ms (Views: 45.9ms | ActiveRecord: 0.5ms)


Started GET "/signout" for ::1 at 2016-07-21 20:48:47 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:48:47 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 40ms (Views: 38.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:48:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:48:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCAQ44l-aDZwbvMtWHzUs-GhfVJ27C9cc4Yxbc9uTluUr3t3CguQZnElj_u23NrNVaESN_2pOiTupilkGK4TJOG3Y9gzMSkPoMDxQN7Sj2AigrTgCiNLJ4CIVHOG1pL-X_qHZWpcGHvhfApQjTl2FJniiWN-iGsLnaR_02ayqhRIX3vhTOg4lCi4hCFzYWtnQCJLvk534xOl20Uk3GOIizoua7dD7MEnqDDH3QBvMdOc9S2aKwhYJcsVQkqdYci9rScG5aQBbVJ3K4Kiefs5zx1GQL6IxTcCBnPe7MVU-7bG3GId2kjEBHoEfuNYBO1ao8&state=8471af11673f9734df0b4c5a69563b0b45bc3716cf40d7a1" for ::1 at 2016-07-21 20:48:48 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCAQ44l-aDZwbvMtWHzUs-GhfVJ27C9cc4Yxbc9uTluUr3t3CguQZnElj_u23NrNVaESN_2pOiTupilkGK4TJOG3Y9gzMSkPoMDxQN7Sj2AigrTgCiNLJ4CIVHOG1pL-X_qHZWpcGHvhfApQjTl2FJniiWN-iGsLnaR_02ayqhRIX3vhTOg4lCi4hCFzYWtnQCJLvk534xOl20Uk3GOIizoua7dD7MEnqDDH3QBvMdOc9S2aKwhYJcsVQkqdYci9rScG5aQBbVJ3K4Kiefs5zx1GQL6IxTcCBnPe7MVU-7bG3GId2kjEBHoEfuNYBO1ao8", "state"=>"8471af11673f9734df0b4c5a69563b0b45bc3716cf40d7a1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:10)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)


Started GET "/" for ::1 at 2016-07-21 20:48:51 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2016-07-21 20:52:32 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (28.1ms)
Completed 200 OK in 313ms (Views: 293.2ms | ActiveRecord: 6.4ms)


Started GET "/signout" for ::1 at 2016-07-21 20:52:34 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:52:34 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 43ms (Views: 39.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 20:52:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 20:52:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCONoSc9QA4epq1loYEtrox9yms1nbhIp2ZouHRrKd4TkpqWtN7A07M4MEYKk7fp8Y1s3Q56LMST57F2zvWfgwIhu1SsPRckN66ipS70qnFoI3eXM8b8f_WKwqsqq_RUY9YbAiu8WeQ5j8VHOtc37q0sABqXf5LTSgHpoxZVcvx7qLwUpReFoR3ZWrd7fQ3orICHoyEhfQ42XUBNH7fX_v7GZ6QPTQCSrwwFHV1KooiLX1ITCdzIualtW0taSXJFATuvLRf7SiHmw7q4bX0fpd5S2hTzlJSxilUyMXvVK5kgcJFVlhehvd8WVjg7k5HS-g&state=e3043db2c6f1ea10f64af57293cf9cef3d3ae4e650ec8cfb" for ::1 at 2016-07-21 20:52:35 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCONoSc9QA4epq1loYEtrox9yms1nbhIp2ZouHRrKd4TkpqWtN7A07M4MEYKk7fp8Y1s3Q56LMST57F2zvWfgwIhu1SsPRckN66ipS70qnFoI3eXM8b8f_WKwqsqq_RUY9YbAiu8WeQ5j8VHOtc37q0sABqXf5LTSgHpoxZVcvx7qLwUpReFoR3ZWrd7fQ3orICHoyEhfQ42XUBNH7fX_v7GZ6QPTQCSrwwFHV1KooiLX1ITCdzIualtW0taSXJFATuvLRf7SiHmw7q4bX0fpd5S2hTzlJSxilUyMXvVK5kgcJFVlhehvd8WVjg7k5HS-g", "state"=>"e3043db2c6f1ea10f64af57293cf9cef3d3ae4e650ec8cfb"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_repo/the_hill_app/app/models/user.rb:10)
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 22ms (ActiveRecord: 2.5ms)


Started GET "/" for ::1 at 2016-07-21 20:52:36 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 47ms (Views: 44.4ms | ActiveRecord: 0.3ms)


Started GET "/signout" for ::1 at 2016-07-21 20:52:38 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 20:52:38 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 40ms (Views: 33.8ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 21:03:25 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 303ms (Views: 291.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 21:03:28 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 21:03:28 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBvOA6P-7b_DwSSw1dB2KX0uRUqWGChZUC4T9nw0UxHAwn1jrI_-G-44rdIJZvTSkQ5M0UCW4Lp0-EsABvDjwrpsmuwMFDMoAsixgLtaUwHVw_Wqe9KCWGOL9SjiehxFZM5mOJZYTtms4ygR1NvyXHsY-OdgDjb4FPIT5Nhv4lA4oCeWZv4gbkvd0NZNkdpne8vIxeEfPkaeAl4xDIrgqUfZifo1sIhuQfO-YxK3dgsCX5Dh0RvD3OAcb7Y-NZ0OlaOWkzfoxLf45ZRV_82ekY1LvY_Eslmji322FVytHO6mA1aTdvvPHPIRWAbu6b8nq0&state=32515aa29178bb54e5cae9bc9aa24caa3157c25531eaea29" for ::1 at 2016-07-21 21:03:28 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBvOA6P-7b_DwSSw1dB2KX0uRUqWGChZUC4T9nw0UxHAwn1jrI_-G-44rdIJZvTSkQ5M0UCW4Lp0-EsABvDjwrpsmuwMFDMoAsixgLtaUwHVw_Wqe9KCWGOL9SjiehxFZM5mOJZYTtms4ygR1NvyXHsY-OdgDjb4FPIT5Nhv4lA4oCeWZv4gbkvd0NZNkdpne8vIxeEfPkaeAl4xDIrgqUfZifo1sIhuQfO-YxK3dgsCX5Dh0RvD3OAcb7Y-NZ0OlaOWkzfoxLf45ZRV_82ekY1LvY_Eslmji322FVytHO6mA1aTdvvPHPIRWAbu6b8nq0", "state"=>"32515aa29178bb54e5cae9bc9aa24caa3157c25531eaea29"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/hill_project/the_hill_app/app/models/user.rb:10)
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 38ms (ActiveRecord: 6.7ms)


Started GET "/" for ::1 at 2016-07-21 21:03:29 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 46ms (Views: 43.0ms | ActiveRecord: 0.6ms)


Started GET "/signout" for ::1 at 2016-07-21 21:03:30 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 21:03:30 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 46ms (Views: 40.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 21:24:52 +0200
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 299ms (Views: 286.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 21:24:54 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 21:24:54 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBE_j8ppfExjrxv4S0ADFUcMrtZ1W1XsKeb7T6kWCxVegj3RjRhm_SdvpQNMPGRQrLj0zGUCyrygcf7qA4RXhw6EVRLZsuJSNlcVxh2XB2Cij5ScH3bRCMllFz6mK1PLAIlsca7RiVNiTo4D-Dgio4Iz3QWNnKog3ckGY-z0xoXuiSmRcISUjP6g8g7vYvd-s_JORCXPCjQwLOOXVIwHtgRbCqCuMMHe970De3cc3Tzt4DVRMwQ2FhTXvdKgDphfu95JUr3zMpuQs4viKLUHlR8fNvqJheZq3J6k_Srd-lP3RXB-QNnfr0Gh1cQeFFuwiY&state=31cd331eb9601612f421bb0ca7e4341c05fe9d4d066889b6" for ::1 at 2016-07-21 21:24:55 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBE_j8ppfExjrxv4S0ADFUcMrtZ1W1XsKeb7T6kWCxVegj3RjRhm_SdvpQNMPGRQrLj0zGUCyrygcf7qA4RXhw6EVRLZsuJSNlcVxh2XB2Cij5ScH3bRCMllFz6mK1PLAIlsca7RiVNiTo4D-Dgio4Iz3QWNnKog3ckGY-z0xoXuiSmRcISUjP6g8g7vYvd-s_JORCXPCjQwLOOXVIwHtgRbCqCuMMHe970De3cc3Tzt4DVRMwQ2FhTXvdKgDphfu95JUr3zMpuQs4viKLUHlR8fNvqJheZq3J6k_Srd-lP3RXB-QNnfr0Gh1cQeFFuwiY", "state"=>"31cd331eb9601612f421bb0ca7e4341c05fe9d4d066889b6"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:10)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 33ms (ActiveRecord: 5.4ms)


Started GET "/" for ::1 at 2016-07-21 21:24:55 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 45ms (Views: 42.4ms | ActiveRecord: 0.5ms)


Started GET "/signout" for ::1 at 2016-07-21 21:24:57 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 21:24:57 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 39ms (Views: 37.0ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 21:30:46 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 490ms (Views: 465.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-21 21:30:49 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-21 21:30:49 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDBBYeliMrwY3qKdgwG3KmphoE167kGDKwlL7ogmXU40u1lGZ3S7-XCsL1eTEdPjOfPZdwvHz5MPm1xpDl1H_Hl2lVHcJsd8AHbf3p9l2ThGqrD1A89EKVzQEsZ4MWylCOYIuMtfu2zT366NxFEO8P8tomTGlnWelbuarTKxnHDV-9euPD1mcWHR1zDO-bWiP004dMQsj3NSmFBVc4ca6BGPBlsu8NnhgoJ1GePh7dGJ99hOd6X8SkDL4El64QIeNIJ09oLFahZzqbWLpfJbUxf_EoEAmn31s52I9exDkz4BDH4rt89CobCHq5GiZmxAes&state=dd8fa6598abf74273156e1e20f06a0bcbb3ba92b94ef1cf0" for ::1 at 2016-07-21 21:30:49 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDBBYeliMrwY3qKdgwG3KmphoE167kGDKwlL7ogmXU40u1lGZ3S7-XCsL1eTEdPjOfPZdwvHz5MPm1xpDl1H_Hl2lVHcJsd8AHbf3p9l2ThGqrD1A89EKVzQEsZ4MWylCOYIuMtfu2zT366NxFEO8P8tomTGlnWelbuarTKxnHDV-9euPD1mcWHR1zDO-bWiP004dMQsj3NSmFBVc4ca6BGPBlsu8NnhgoJ1GePh7dGJ99hOd6X8SkDL4El64QIeNIJ09oLFahZzqbWLpfJbUxf_EoEAmn31s52I9exDkz4BDH4rt89CobCHq5GiZmxAes", "state"=>"dd8fa6598abf74273156e1e20f06a0bcbb3ba92b94ef1cf0"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:10)
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 36ms (ActiveRecord: 6.0ms)


Started GET "/" for ::1 at 2016-07-21 21:30:50 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.5ms)


Started GET "/signout" for ::1 at 2016-07-21 21:30:51 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-21 21:30:51 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 55ms (Views: 51.0ms | ActiveRecord: 0.0ms)


  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (3357.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (123.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 14:20:04 UTC], ["updated_at", 2016-07-22 14:20:04 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/" for ::1 at 2016-07-22 16:58:50 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 280ms (Views: 267.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 16:58:52 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 16:58:53 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAUmhZk0V7G3-MAxYE1H00SD73BrQl6kUoZA-QXxPybD86IeGn7eYYQ50e9C_fgPKNsLXufYK3XBxt1jha1pgMfn9eoSg2u_ze-R2zGrTfVhkVnP7RJVHaXK5u68hHCXFLnBjOs3aCHwMSRzryK1ePcggQXEGiso2MXTjDTSLfZ1mD36Q8KNVeTzj_spQEIoueK51hCX0aqu1gXutjKZN7X1QDUSo-d5ffOWk2txQWeIpa-nodZxkHZT5yJwob5aKQmDn-79GpCZmq1H8YVJ_N5Cw4txShH0sbHATT2YRZgQ02U-SE3y_M8W2tpQEFcz1s&state=14bca93068c8cdde076a6a6c183e15a6a3c333ed58467d32" for ::1 at 2016-07-22 16:58:53 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAUmhZk0V7G3-MAxYE1H00SD73BrQl6kUoZA-QXxPybD86IeGn7eYYQ50e9C_fgPKNsLXufYK3XBxt1jha1pgMfn9eoSg2u_ze-R2zGrTfVhkVnP7RJVHaXK5u68hHCXFLnBjOs3aCHwMSRzryK1ePcggQXEGiso2MXTjDTSLfZ1mD36Q8KNVeTzj_spQEIoueK51hCX0aqu1gXutjKZN7X1QDUSo-d5ffOWk2txQWeIpa-nodZxkHZT5yJwob5aKQmDn-79GpCZmq1H8YVJ_N5Cw4txShH0sbHATT2YRZgQ02U-SE3y_M8W2tpQEFcz1s", "state"=>"14bca93068c8cdde076a6a6c183e15a6a3c333ed58467d32"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 14:58:53 UTC], ["updated_at", 2016-07-22 14:58:53 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "password" = $2, "name" = $3 WHERE "users"."id" = $4[0m  [["updated_at", 2016-07-22 14:58:53 UTC], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:11)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 43ms (ActiveRecord: 8.9ms)


Started GET "/" for ::1 at 2016-07-22 16:58:54 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 33ms (Views: 30.5ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (5045.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (5043.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (5037.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (123.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (123.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:01:23 UTC], ["updated_at", 2016-07-22 15:01:23 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:08:02 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (23.4ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198575852780'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.0ms)
Started GET "/" for ::1 at 2016-07-22 17:08:39 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (129.0ms)
Completed 500 Internal Server Error in 135ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c17dcca0>:0x007fb0c17d74d0>
Did you mean?  current_page?):
    1: <h1>Welcome on the hill</h1>
    2: 
    3: <% if current_user %>
    4:   Hi <strong><%= current_user.name %></strong>!
    5:   <% end %>
    6: <p>Looking great today!</p>
  
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198568611800'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.1ms)
Started GET "/" for ::1 at 2016-07-22 17:08:51 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (124.4ms)
Completed 500 Internal Server Error in 129ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c17dcca0>:0x007fb0c28c9fe0>
Did you mean?  current_page?):
    1: <h1>Welcome on the hill</h1>
    2: 
    3: <!-- <% if current_user %>
    4:   Hi <strong><%= current_user.name %></strong>!
    5:   <% end %> -->
    6: <p>Looking great today!</p>
  
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198577487580'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.2ms)
Started GET "/" for ::1 at 2016-07-22 17:08:57 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 500 Internal Server Error in 458ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c17dcca0>:0x007fb0c50c03a0>
Did you mean?  current_page?):
    12:     <%= yield %>
    13: 
    14:     <div id="user-widget">
    15:     <% if current_user %>
    16:       <%= link_to "Sign out", signout_path, id: "sign_out" %>
    17:     <% else %>
    18:       <%= link_to "Sign in with Facebook", "/auth/facebook", id: "sign_in" %>
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb___4192363275658406287_70198598407020'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.6ms)
Started GET "/" for ::1 at 2016-07-22 17:09:21 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (129.6ms)
Completed 500 Internal Server Error in 134ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c17dcca0>:0x007fb0c2ce48a0>
Did you mean?  current_page?):
    1: <h1>Welcome on the hill</h1>
    2: 
    3: <!-- <% if current_user %>
    4:   Hi <strong><%= current_user.name %></strong>!
    5:   <% end %> -->
    6: <p>Looking great today!</p>
  
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198579636500'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (68.1ms)
Started GET "/" for ::1 at 2016-07-22 17:09:23 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (126.7ms)
Completed 500 Internal Server Error in 131ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c17dcca0>:0x007fb0c8231330>
Did you mean?  current_page?):
    1: <h1>Welcome on the hill</h1>
    2: 
    3: <!-- <% if current_user %>
    4:   Hi <strong><%= current_user.name %></strong>!
    5:   <% end %> -->
    6: <p>Looking great today!</p>
  
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198624357980'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.1ms)
Started GET "/" for ::1 at 2016-07-22 17:09:35 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (185.7ms)
Completed 500 Internal Server Error in 190ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c17dcca0>:0x007fb0c80f21b8>
Did you mean?  current_page?):
    1: <h1>Welcome on the hill</h1>
    2: 
    3: <!-- <% if current_user %>
    4:   Hi <strong><%= current_user.name %></strong>!
    5:   <% end %> -->
    6: <p>Looking great today!</p>
  
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198623704480'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.7ms)
Started GET "/" for ::1 at 2016-07-22 17:09:41 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c17dcca0>:0x007fb0c55046f0>
Did you mean?  current_page?):
    12:     <%= yield %>
    13: 
    14:     <div id="user-widget">
    15:     <!-- <% if current_user %>
    16:       <%= link_to "Sign out", signout_path, id: "sign_out" %>
    17:     <% else %> -->
    18:       <%= link_to "Sign in with Facebook", "/auth/facebook", id: "sign_in" %>
  
app/views/layouts/application.html.erb:15:in `_app_views_layouts_application_html_erb___4192363275658406287_70198600951720'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.2ms)
Started GET "/" for ::1 at 2016-07-22 17:09:48 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:10:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (12.2ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198600825040'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (76.0ms)
Started GET "/" for ::1 at 2016-07-22 17:10:18 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:10:19 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:10:19 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?error_code=100&error_message=Invalid+Scopes%3A+read_stream.+This+message+is+only+shown+to+developers.+Users+of+your+app+will+ignore+these+permissions+if+present.+Please+read+the+documentation+for+valid+permissions+at%3A+https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Ffacebook-login%2Fpermissions&state=f4dde1153e661a5bbb682ffcf800b51966d657a898284fbe" for ::1 at 2016-07-22 17:10:35 +0200
(facebook) Callback phase initiated.
(facebook) Authentication failure! no_authorization_code: OmniAuth::Strategies::Facebook::NoAuthorizationCodeError, must pass either a `code` (via URL or by an `fbsr_XXX` signed request cookie)
  
OmniAuth::Strategies::Facebook::NoAuthorizationCodeError (must pass either a `code` (via URL or by an `fbsr_XXX` signed request cookie)):
  
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:151:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (70.4ms)
Started GET "/" for ::1 at 2016-07-22 17:10:43 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:10:48 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (121.0ms)
Completed 500 Internal Server Error in 126ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<#<Class:0x007fb0c5bc7820>:0x007fb0c56e4d08>
Did you mean?  current_page?):
    1: <h1>Welcome on the hill</h1>
    2: 
    3: <% if current_user %>
    4:   Hi <strong><%= current_user.name %></strong>!
    5:   <% end %>
    6: <p>Looking great today!</p>
  
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198601657160'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.2ms)
Started GET "/" for ::1 at 2016-07-22 17:11:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (7.5ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__506764090368018553_70198578187100'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (61.9ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (128.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (124.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (339.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (244.9ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:11:47 UTC], ["updated_at", 2016-07-22 15:11:47 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:12:06 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (20.1ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 4.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__1017986046747553281_70300671054620'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (71.8ms)
Started GET "/" for ::1 at 2016-07-22 17:12:19 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 238ms (Views: 236.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:12:33 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:12:33 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?error_code=100&error_message=Invalid+Scopes%3A+read_stream.+This+message+is+only+shown+to+developers.+Users+of+your+app+will+ignore+these+permissions+if+present.+Please+read+the+documentation+for+valid+permissions+at%3A+https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Ffacebook-login%2Fpermissions&state=73fb7cf9cb21e7086768693b328be1b4c868ae026cd43f45" for ::1 at 2016-07-22 17:12:38 +0200
(facebook) Callback phase initiated.
(facebook) Authentication failure! no_authorization_code: OmniAuth::Strategies::Facebook::NoAuthorizationCodeError, must pass either a `code` (via URL or by an `fbsr_XXX` signed request cookie)
  
OmniAuth::Strategies::Facebook::NoAuthorizationCodeError (must pass either a `code` (via URL or by an `fbsr_XXX` signed request cookie)):
  
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:151:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (88.8ms)
Started GET "/" for ::1 at 2016-07-22 17:12:42 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Started GET "/" for ::1 at 2016-07-22 17:12:42 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 79ms (Views: 76.8ms | ActiveRecord: 0.0ms)


Completed 200 OK in 32ms (Views: 29.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:13:06 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 27.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:13:08 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:13:08 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?error_code=100&error_message=Invalid+Scopes%3A+read_stream.+This+message+is+only+shown+to+developers.+Users+of+your+app+will+ignore+these+permissions+if+present.+Please+read+the+documentation+for+valid+permissions+at%3A+https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Ffacebook-login%2Fpermissions&state=4c3928f78778aa3a15b3ff5c598184ca5a15acf96de69877" for ::1 at 2016-07-22 17:13:12 +0200
(facebook) Callback phase initiated.
(facebook) Authentication failure! no_authorization_code: OmniAuth::Strategies::Facebook::NoAuthorizationCodeError, must pass either a `code` (via URL or by an `fbsr_XXX` signed request cookie)
  
OmniAuth::Strategies::Facebook::NoAuthorizationCodeError (must pass either a `code` (via URL or by an `fbsr_XXX` signed request cookie)):
  
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:151:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (73.9ms)
Started GET "/" for ::1 at 2016-07-22 17:13:23 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 274ms (Views: 262.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:13:25 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:13:25 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDWaERcOj4lEU_7EBJMjzf3DyhGkERDpCFfE4jH_fhzEqioMUJWQfQVtkfcPvgfz8celf9F6HiR8bF1s-kpI8SmXDZ7q41FrvO7W2AftW83jq-1EPcOuLXZKWDPSJlawFTE-ZwoX9ngWr0yKZNHmRcSLlIlfQDIi6wNSD85E3y5rio5QzkIZHzrU0HIETYKrGegXD_577OIOW6bt-gvY6pEtmeQznvg1VQScCwEz6Znwe6gM85upJnqs3X7OjdNCPNtd66dRoQ-ufPvBhm1grBLH9adXW6UQ4tmIqFhl8HftjgK6t4cwcT9MgHtMvjQRGg&state=e56fc7fa7f798e8273f77823446344b85085dc4d98dd6127" for ::1 at 2016-07-22 17:13:25 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDWaERcOj4lEU_7EBJMjzf3DyhGkERDpCFfE4jH_fhzEqioMUJWQfQVtkfcPvgfz8celf9F6HiR8bF1s-kpI8SmXDZ7q41FrvO7W2AftW83jq-1EPcOuLXZKWDPSJlawFTE-ZwoX9ngWr0yKZNHmRcSLlIlfQDIi6wNSD85E3y5rio5QzkIZHzrU0HIETYKrGegXD_577OIOW6bt-gvY6pEtmeQznvg1VQScCwEz6Znwe6gM85upJnqs3X7OjdNCPNtd66dRoQ-ufPvBhm1grBLH9adXW6UQ4tmIqFhl8HftjgK6t4cwcT9MgHtMvjQRGg", "state"=>"e56fc7fa7f798e8273f77823446344b85085dc4d98dd6127"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:13:25 UTC], ["updated_at", 2016-07-22 15:13:25 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "password" = $2, "name" = $3 WHERE "users"."id" = $4[0m  [["updated_at", 2016-07-22 15:13:25 UTC], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:11)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 7.6ms)


Started GET "/" for ::1 at 2016-07-22 17:13:25 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:13:46 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (19.3ms)
Completed 200 OK in 52ms (Views: 49.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 17:14:07 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:14:07 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (2844.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:14:45 UTC], ["updated_at", 2016-07-22 15:14:45 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/" for ::1 at 2016-07-22 17:15:15 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 262ms (Views: 252.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:15:35 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 25ms (Views: 22.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:15:39 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:15:39 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDipSshngqC3FajXtFpA7WSKb27McgTTu1XPUZJsUUsYmbkpZGEXdqBt88sHYi8NXHmpsk6kNSevhUcP8Zc_ss4zlhrZLzh3g-jzdUMKGzYEHk-9qIBQu6DoaTM5to791mMdTHT6SYxCzWU443D1hd0OndFy2FI5iCDw7evJnpZCFS4-KKSCrymRBUDiZWECXe7Zq4aD_xFlK1LxVGR83k_ucOoLXazUUFK1dZsDAugCCD5pFFKOoL8i2tBHAqzTshZZX33J7PsKmVc35pMlN6wFIBMmbCoz4RgLoKuEyRRlb5TBGnofhBCtxDWW-jMc10&state=778e11397b37e2fa920bbf998b8a05151158a9ebf67d6e36" for ::1 at 2016-07-22 17:15:45 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDipSshngqC3FajXtFpA7WSKb27McgTTu1XPUZJsUUsYmbkpZGEXdqBt88sHYi8NXHmpsk6kNSevhUcP8Zc_ss4zlhrZLzh3g-jzdUMKGzYEHk-9qIBQu6DoaTM5to791mMdTHT6SYxCzWU443D1hd0OndFy2FI5iCDw7evJnpZCFS4-KKSCrymRBUDiZWECXe7Zq4aD_xFlK1LxVGR83k_ucOoLXazUUFK1dZsDAugCCD5pFFKOoL8i2tBHAqzTshZZX33J7PsKmVc35pMlN6wFIBMmbCoz4RgLoKuEyRRlb5TBGnofhBCtxDWW-jMc10", "state"=>"778e11397b37e2fa920bbf998b8a05151158a9ebf67d6e36"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:15:46 UTC], ["updated_at", 2016-07-22 15:15:46 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "password" = $2, "name" = $3 WHERE "users"."id" = $4[0m  [["updated_at", 2016-07-22 15:15:46 UTC], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:11)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 6.8ms)


Started GET "/" for ::1 at 2016-07-22 17:15:46 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 38ms (Views: 36.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (5041.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:21:11 UTC], ["updated_at", 2016-07-22 15:21:11 UTC]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/signout" for ::1 at 2016-07-22 17:21:20 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:21:20 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 237ms (Views: 235.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:21:26 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:22:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 38ms (Views: 36.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:22:03 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:22:04 +0200
(facebook) Request phase initiated.
Started GET "/" for ::1 at 2016-07-22 17:22:54 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 43ms (Views: 37.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddGenderToUsers (20160722152343)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722152343"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:25:24 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 262ms (Views: 250.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:25:29 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:25:30 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBxPPNMKhywOCd_g4kRibu9attHQxcSs3nlHNY82CyKFmXcEPxDDOYALg3xSF92_Nza9o08lj2VEI3LmnEXxh-0Jxa19X7HwfEiDrsjw3DSUH7e9V2QRu_kTF1tz5k3zyoeR5BlXj0oaO7mefnNKZfNMLpD9yNJ0ZkWUqWCTV83Adb0nU9wmepNxL5KLh_4bgVZegelEoP71IY_i8fnR5VlRHLDRnStgjUFZqLFd1qT2gLUoe_yiwcS886lGkX4RMW1Zm-a9iVWUnqDkHOuN-v5QHHUNHNYn_VhRb3_2llIFdZMVp9jKunFXcaxLzyUFwQ&state=4a5e9a2ee78c74b0b29b0dec62c0e6c334b7f0df833943ac" for ::1 at 2016-07-22 17:25:34 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBxPPNMKhywOCd_g4kRibu9attHQxcSs3nlHNY82CyKFmXcEPxDDOYALg3xSF92_Nza9o08lj2VEI3LmnEXxh-0Jxa19X7HwfEiDrsjw3DSUH7e9V2QRu_kTF1tz5k3zyoeR5BlXj0oaO7mefnNKZfNMLpD9yNJ0ZkWUqWCTV83Adb0nU9wmepNxL5KLh_4bgVZegelEoP71IY_i8fnR5VlRHLDRnStgjUFZqLFd1qT2gLUoe_yiwcS886lGkX4RMW1Zm-a9iVWUnqDkHOuN-v5QHHUNHNYn_VhRb3_2llIFdZMVp9jKunFXcaxLzyUFwQ", "state"=>"4a5e9a2ee78c74b0b29b0dec62c0e6c334b7f0df833943ac"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:25:35 UTC], ["updated_at", 2016-07-22 15:25:35 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "password" = $2, "name" = $3 WHERE "users"."id" = $4[0m  [["updated_at", 2016-07-22 15:25:35 UTC], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:12)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 54ms (ActiveRecord: 8.4ms)


Started GET "/" for ::1 at 2016-07-22 17:25:35 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 41ms (Views: 38.4ms | ActiveRecord: 0.9ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 17:32:23 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:32:23 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 92ms (Views: 89.3ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (125.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (335.3ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (245.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGenderToUsers (20160722152343)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722152343"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:32:46 UTC], ["updated_at", 2016-07-22 15:32:46 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:33:03 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 264ms (Views: 255.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:33:07 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:33:07 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA3BFxyLFx3P6tPjVOXBpeb3olHvhEg1wGxQ4PSgBRhrb3LV3m9RYZWCzIhcIQ46t1-C1g3hV2wgq-0goMwba_NxGKgkwDFAU0JSQcm7q-jZpdDwkFdUm5MY2LB1zilGrWST-5-S0uZ0eFIN7vmURLuHGtPymxI65D3zQGnl8t8CkNENURLyxLcc-WLUd43BTVaOCc4h38t6R0aviL_cdhlfP-erTwr31gRIqvfjG6Z_wKu2vtG3_nGIRSJ7HivesDwhJO_Xo5tKdNDlbm0sphSc0LCErNPel6fNCsqiI-E0-eHy7uSKHtHFDtP8Ih7NHU&state=3dd903bc531eeba320b97b11a28858f4b0950986143c42f5" for ::1 at 2016-07-22 17:33:11 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQA3BFxyLFx3P6tPjVOXBpeb3olHvhEg1wGxQ4PSgBRhrb3LV3m9RYZWCzIhcIQ46t1-C1g3hV2wgq-0goMwba_NxGKgkwDFAU0JSQcm7q-jZpdDwkFdUm5MY2LB1zilGrWST-5-S0uZ0eFIN7vmURLuHGtPymxI65D3zQGnl8t8CkNENURLyxLcc-WLUd43BTVaOCc4h38t6R0aviL_cdhlfP-erTwr31gRIqvfjG6Z_wKu2vtG3_nGIRSJ7HivesDwhJO_Xo5tKdNDlbm0sphSc0LCErNPel6fNCsqiI-E0-eHy7uSKHtHFDtP8Ih7NHU", "state"=>"3dd903bc531eeba320b97b11a28858f4b0950986143c42f5"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:33:12 UTC], ["updated_at", 2016-07-22 15:33:12 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "name" = $4 WHERE "users"."id" = $5[0m  [["updated_at", 2016-07-22 15:33:12 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:12)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 41ms (ActiveRecord: 7.0ms)


Started GET "/" for ::1 at 2016-07-22 17:33:12 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 32ms (Views: 29.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (132.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (123.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (334.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (244.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGenderToUsers (20160722152343)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722152343"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:35:02 UTC], ["updated_at", 2016-07-22 15:35:02 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:35:12 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (20.2ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__779730490499954331_70335495091500'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "name") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", 2016-07-22 15:35:43 UTC], ["updated_at", 2016-07-22 15:35:43 UTC], ["name", "Valentine"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2016-07-22 17:36:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 221ms (Views: 218.5ms | ActiveRecord: 0.3ms)


Started GET "/signout" for ::1 at 2016-07-22 17:36:03 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:36:03 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (123.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (248.5ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (247.7ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGenderToUsers (20160722152343)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722152343"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:36:14 UTC], ["updated_at", 2016-07-22 15:36:14 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:36:44 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 283ms (Views: 271.0ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:36:44 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:36:47 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:36:47 +0200
(facebook) Request phase initiated.
Started GET "/" for ::1 at 2016-07-22 17:37:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Started GET "/" for ::1 at 2016-07-22 17:37:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 77ms (Views: 73.7ms | ActiveRecord: 0.0ms)


Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:40:19 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 266ms (Views: 253.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:40:21 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:40:21 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBENbx7fUCqlPniON5YWIwwyPS8WlYsx-0XdWXsSW9x22BNqIsqlxdwcbb49sTWBc-uwRya_oZ-CAYv0zfF2R2bUBByBghaQ03Op7E9VDY_jSaHvlnON2iJ_wAZ-lxSyPmolzH8rZ6g5Y_qlfbQkJ__HmzL2q8ev48COvxF11ZjeuIBzmjAHFKZx95BlF6YX-8Qlb6E8pOhaEHLVdhaH3uPto0gYBU3HNhtHyJc_7gPRi7a1roWcDMVEUG--GvHVfhEO5F0glKug2Q3dHepbocs9edl1IS6xH39gj43qnJgq-Tni7YCdKLlFZ3_lBHJNyk&state=0ae57ee2c370d0d51ef4838d6db8ffccdab949bdfbba705a" for ::1 at 2016-07-22 17:40:22 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBENbx7fUCqlPniON5YWIwwyPS8WlYsx-0XdWXsSW9x22BNqIsqlxdwcbb49sTWBc-uwRya_oZ-CAYv0zfF2R2bUBByBghaQ03Op7E9VDY_jSaHvlnON2iJ_wAZ-lxSyPmolzH8rZ6g5Y_qlfbQkJ__HmzL2q8ev48COvxF11ZjeuIBzmjAHFKZx95BlF6YX-8Qlb6E8pOhaEHLVdhaH3uPto0gYBU3HNhtHyJc_7gPRi7a1roWcDMVEUG--GvHVfhEO5F0glKug2Q3dHepbocs9edl1IS6xH39gj43qnJgq-Tni7YCdKLlFZ3_lBHJNyk", "state"=>"0ae57ee2c370d0d51ef4838d6db8ffccdab949bdfbba705a"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:40:24 UTC], ["updated_at", 2016-07-22 15:40:24 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "name" = $4 WHERE "users"."id" = $5[0m  [["updated_at", 2016-07-22 15:40:24 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:12)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 7.7ms)


Started GET "/" for ::1 at 2016-07-22 17:40:24 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 17:40:40 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:40:40 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 42ms (Views: 39.2ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (327.1ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (250.8ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGenderToUsers (20160722152343)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722152343"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:40:54 UTC], ["updated_at", 2016-07-22 15:40:54 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:42:42 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 278ms (Views: 265.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:42:44 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:42:44 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCPmcj089ysHKEoflOoI7A8Ad-cCfC9iW589cA7OkbZXgb-imU4g7X1BUoHj8C6DOTmfAa8AOUnOd9VlanQT-_O9espcwFPMsDzRQldrZA9Jh6Sz9s-ZRwZrQx6eQiIYiHZDuQ2O8uMPgd8cPGKKZtZHPd2a1q3XRq1KBxPi6dqQgaD6lEsyfe77-u6xyLiXoq9AzTYa53rA9yJS3FXP_7lmWP2FouOZCIxZ7-6mnWf42igbaa6lU6uWkGmQYKTWflE18299cJWKgAeq5beJGtWYwXg5QaV4JoEEMBxyu4VM7fmiWs2oatwpz3BzacnEzk&state=6f2b67b367dc2bc2a6aa4615ff616fd0be5eb6e6d89f599e" for ::1 at 2016-07-22 17:42:44 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCPmcj089ysHKEoflOoI7A8Ad-cCfC9iW589cA7OkbZXgb-imU4g7X1BUoHj8C6DOTmfAa8AOUnOd9VlanQT-_O9espcwFPMsDzRQldrZA9Jh6Sz9s-ZRwZrQx6eQiIYiHZDuQ2O8uMPgd8cPGKKZtZHPd2a1q3XRq1KBxPi6dqQgaD6lEsyfe77-u6xyLiXoq9AzTYa53rA9yJS3FXP_7lmWP2FouOZCIxZ7-6mnWf42igbaa6lU6uWkGmQYKTWflE18299cJWKgAeq5beJGtWYwXg5QaV4JoEEMBxyu4VM7fmiWs2oatwpz3BzacnEzk", "state"=>"6f2b67b367dc2bc2a6aa4615ff616fd0be5eb6e6d89f599e"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:42:44 UTC], ["updated_at", 2016-07-22 15:42:44 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "name" = $4 WHERE "users"."id" = $5[0m  [["updated_at", 2016-07-22 15:42:44 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["name", "Valentine BM"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:12)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 41ms (ActiveRecord: 7.0ms)


Started GET "/" for ::1 at 2016-07-22 17:42:44 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 17:44:12 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:44:12 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 44ms (Views: 42.5ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (5043.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (121.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (331.7ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (247.6ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToUsers (20160721181059)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721181059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGenderToUsers (20160722152343)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722152343"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:44:32 UTC], ["updated_at", 2016-07-22 15:44:32 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:44:46 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 308ms (Views: 296.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:44:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:44:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQB-Ztiln4RNmbPjoFedlDwf6UQLR_m6A86qQiGp0oU7bj1rnNVSQoKyqHhElLMjmqd4HFG2qI7PKUcgtgRj8bK-xLSQpkeK5UPDw92rFjLlO6WqUEiUYpJEqnixkL-vEivbch05_ueix0fBGgDs1bZmYqEiAE7hrZlMxZyW0HrZaYQS35rtXvB2npzAF_oMj_F-HCRJfVSikiPz6hTM3WJCv47YEf7l9Ft_HojDM1IR66UkXfy9OrR371_1qp0sFZ7ys4gtvYWgkkRbHYCQ-h1zctWEgaRBPrNiD7TvpKjIpDoPCOy3v1Hwu-_MBSZdVX0&state=c61f7052883afd25eb6e33380c050a58a819923fe5ca83c5" for ::1 at 2016-07-22 17:44:48 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQB-Ztiln4RNmbPjoFedlDwf6UQLR_m6A86qQiGp0oU7bj1rnNVSQoKyqHhElLMjmqd4HFG2qI7PKUcgtgRj8bK-xLSQpkeK5UPDw92rFjLlO6WqUEiUYpJEqnixkL-vEivbch05_ueix0fBGgDs1bZmYqEiAE7hrZlMxZyW0HrZaYQS35rtXvB2npzAF_oMj_F-HCRJfVSikiPz6hTM3WJCv47YEf7l9Ft_HojDM1IR66UkXfy9OrR371_1qp0sFZ7ys4gtvYWgkkRbHYCQ-h1zctWEgaRBPrNiD7TvpKjIpDoPCOy3v1Hwu-_MBSZdVX0", "state"=>"c61f7052883afd25eb6e33380c050a58a819923fe5ca83c5"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:44:49 UTC], ["updated_at", 2016-07-22 15:44:49 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "name" = $4, "gender" = $5 WHERE "users"."id" = $6[0m  [["updated_at", 2016-07-22 15:44:49 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["name", "Valentine BM"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:13)
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 7.3ms)


Started GET "/" for ::1 at 2016-07-22 17:44:49 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 55ms (Views: 52.8ms | ActiveRecord: 0.7ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 17:46:35 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:46:35 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 40ms (Views: 37.2ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (120.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
Started GET "/" for ::1 at 2016-07-22 17:55:24 +0200
  
ActiveRecord::NoDatabaseError (FATAL:  database "the_hill_development" does not exist
):
  
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:675:in `rescue in connect'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:721:in `new_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:765:in `checkout_new_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:744:in `try_to_checkout_new_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:705:in `acquire_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:501:in `checkout'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:875:in `retrieve_connection'
activerecord (5.0.0) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.0) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.0) lib/active_record/migration.rb:558:in `connection'
activerecord (5.0.0) lib/active_record/migration.rb:545:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.0ms)
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:55:43 UTC], ["updated_at", 2016-07-22 15:55:43 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (4.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:55:58 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 295ms (Views: 283.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:56:00 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:56:00 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQB51DeAJcSCdkFmz5HplE-VJcIvcuQ2z0fl3UrrX50ybW0Z2m-jyi0b7Ti7UQNrIE9M4MtW6SqPcHvBE-XIEHiibfk_b-tdcMGbNwc2gTvrNldRvyWSVwP-PKQicOV1YmAU5CD5-alWo88kr4Je1FjPLKU3iD4j5E6P0Zfy4TCfXNDUM8tFy7_phIvtRvX9Rq-njuXekpV_kBnvoaGv9vaF1F3g-ssf_peLfIlxam7TUEmEvcoZv7zfjCpATRCJOIIe3HGYFbIyXTkeaH68IYOfLMs92T0PtTkysRMUHiIBraI0iig6gBgreRcmEyhAfrE&state=20763d98dbdbe58cf63823196f6fc53d8b0e26f233484eb8" for ::1 at 2016-07-22 17:56:00 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQB51DeAJcSCdkFmz5HplE-VJcIvcuQ2z0fl3UrrX50ybW0Z2m-jyi0b7Ti7UQNrIE9M4MtW6SqPcHvBE-XIEHiibfk_b-tdcMGbNwc2gTvrNldRvyWSVwP-PKQicOV1YmAU5CD5-alWo88kr4Je1FjPLKU3iD4j5E6P0Zfy4TCfXNDUM8tFy7_phIvtRvX9Rq-njuXekpV_kBnvoaGv9vaF1F3g-ssf_peLfIlxam7TUEmEvcoZv7zfjCpATRCJOIIe3HGYFbIyXTkeaH68IYOfLMs92T0PtTkysRMUHiIBraI0iig6gBgreRcmEyhAfrE", "state"=>"20763d98dbdbe58cf63823196f6fc53d8b0e26f233484eb8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:56:01 UTC], ["updated_at", 2016-07-22 15:56:01 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "gender" = $4 WHERE "users"."id" = $5[0m  [["updated_at", 2016-07-22 15:56:01 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:16)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 43ms (ActiveRecord: 6.5ms)


Started GET "/" for ::1 at 2016-07-22 17:56:01 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 30ms (Views: 27.9ms | ActiveRecord: 0.5ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 17:57:24 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:57:24 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 42ms (Views: 39.4ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:58:11 UTC], ["updated_at", 2016-07-22 15:58:11 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:58:15 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 283ms (Views: 271.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:58:17 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:58:17 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDfgpB5np0zVHWu16022skdsnJxQdUx2VAMHA1pfNDndG7D5__OuwhuWegaq2uHCl4-wbZGkOxIhjSlG9_vti5qYFVEbWC1tmwzMDnB5AJ9zRH0xQA5WbrHtvSySmn8Ng9AdmE20KK0TV5R9n3h4uFFCy6HMdMGNzkav1CmgDmxlBW2ZEE2ss62KbV96BH3xjIA1rtBSq6juHxjWMMdpDQs5aFesFVGGzjQAL5gfpio6lnrT9GQ3TwcvhibMeyHwceqvbMjNbv2_MFLVrwOM3tUjdzj_ddyoxry5WKoQfZMZLyOOh8WwnMlpV_qFUrPTxM&state=3d8db032c179c32cb62288171eb7c947bd2710db0b56b0ae" for ::1 at 2016-07-22 17:58:17 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDfgpB5np0zVHWu16022skdsnJxQdUx2VAMHA1pfNDndG7D5__OuwhuWegaq2uHCl4-wbZGkOxIhjSlG9_vti5qYFVEbWC1tmwzMDnB5AJ9zRH0xQA5WbrHtvSySmn8Ng9AdmE20KK0TV5R9n3h4uFFCy6HMdMGNzkav1CmgDmxlBW2ZEE2ss62KbV96BH3xjIA1rtBSq6juHxjWMMdpDQs5aFesFVGGzjQAL5gfpio6lnrT9GQ3TwcvhibMeyHwceqvbMjNbv2_MFLVrwOM3tUjdzj_ddyoxry5WKoQfZMZLyOOh8WwnMlpV_qFUrPTxM", "state"=>"3d8db032c179c32cb62288171eb7c947bd2710db0b56b0ae"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:58:18 UTC], ["updated_at", 2016-07-22 15:58:18 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "gender" = $6 WHERE "users"."id" = $7[0m  [["updated_at", 2016-07-22 15:58:18 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:16)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 43ms (ActiveRecord: 6.6ms)


Started GET "/" for ::1 at 2016-07-22 17:58:18 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 37ms (Views: 34.6ms | ActiveRecord: 0.5ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 17:58:40 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 17:58:40 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 41ms (Views: 37.0ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 15:59:26 UTC], ["updated_at", 2016-07-22 15:59:26 UTC]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 17:59:42 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 288ms (Views: 275.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 17:59:44 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 17:59:44 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAkkMqUVw_deyoffDU2DU3ujSnOaJ1jxCs3sBSonIYT6CQWC3QdtMXJ9kdFxarnc8X-PlB3igDQJtqAhhp3tugHp9CX7UwIpaIvwKCL9DQQSXwtjY9WkQy5wISxEvj8FmGUiHkRyyB0W_SEBNjAFXj0gCZfIcYbKA0BE17iTSXy4ZDuhcPrTpO0qdk5u-egiP97GH9ziUxfghBzs1cglxZYE38f4kkYiaz3R-IM6tyrVn6bZkisSVO8aziqWlYpd4wtzJio24FH09SQSKFU9njHM4il7v1I61azXfMZfZ29P9x7G6zoFBask15LtCh0b8c&state=b7360b019fca541b73e67696e673dcccc45065f987352f6b" for ::1 at 2016-07-22 17:59:45 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAkkMqUVw_deyoffDU2DU3ujSnOaJ1jxCs3sBSonIYT6CQWC3QdtMXJ9kdFxarnc8X-PlB3igDQJtqAhhp3tugHp9CX7UwIpaIvwKCL9DQQSXwtjY9WkQy5wISxEvj8FmGUiHkRyyB0W_SEBNjAFXj0gCZfIcYbKA0BE17iTSXy4ZDuhcPrTpO0qdk5u-egiP97GH9ziUxfghBzs1cglxZYE38f4kkYiaz3R-IM6tyrVn6bZkisSVO8aziqWlYpd4wtzJio24FH09SQSKFU9njHM4il7v1I61azXfMZfZ29P9x7G6zoFBask15LtCh0b8c", "state"=>"b7360b019fca541b73e67696e673dcccc45065f987352f6b"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 15:59:45 UTC], ["updated_at", 2016-07-22 15:59:45 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "gender" = $7 WHERE "users"."id" = $8[0m  [["updated_at", 2016-07-22 15:59:45 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:17)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 44ms (ActiveRecord: 7.0ms)


Started GET "/" for ::1 at 2016-07-22 17:59:45 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.5ms)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (127.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (123.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
Started GET "/signout" for ::1 at 2016-07-22 18:02:18 +0200
  
ActiveRecord::NoDatabaseError (FATAL:  database "the_hill_development" does not exist
):
  
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:675:in `rescue in connect'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.0) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:721:in `new_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:765:in `checkout_new_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:744:in `try_to_checkout_new_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:705:in `acquire_connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:501:in `checkout'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:875:in `retrieve_connection'
activerecord (5.0.0) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.0) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.0) lib/active_record/migration.rb:558:in `connection'
activerecord (5.0.0) lib/active_record/migration.rb:545:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 16:02:40 UTC], ["updated_at", 2016-07-22 16:02:40 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 18:02:47 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (21.4ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__1618885877102292092_70125779716380'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (70.0ms)
Started GET "/" for ::1 at 2016-07-22 18:02:49 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__1618885877102292092_70125792275960'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "first_name") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", 2016-07-22 16:03:07 UTC], ["updated_at", 2016-07-22 16:03:07 UTC], ["first_name", "valentine"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2016-07-22 18:03:13 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 226ms (Views: 223.7ms | ActiveRecord: 0.3ms)


Started GET "/signout" for ::1 at 2016-07-22 18:03:15 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 18:03:15 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (125.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 16:03:32 UTC], ["updated_at", 2016-07-22 16:03:32 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 18:03:37 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 255ms (Views: 242.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 18:03:39 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 18:03:39 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQA8cHLfFA9nNsWiDs5f6JICNXWmViT2kVAVUbhJms_6pw3KuuLyYDgfla1LAANEerZq8xLuPm7Vkoi8MgxwOrmKYWAmA8e71W9NMtXFrCd3SOIqsUEBcun3l0AwsfkTC9fHzCEbnxGwxP6-SxwsduyQMcP_PcUvF49GPxzCIPbhGXoKiXyG-pEpITHPjTHm7wRlVoweaD3v8K_szC1eEE-vIPCcwjQ5I_WDRKH0qGsBYmArWs6Hvuk-lB0BW1VJa__WwR-0PkKpht7cWdovL0WgSEv2ou3N9dSnb7-SDlsxkBACpcJTVZDb9dNCAu9B9t0&state=650be71f7b47af4d8c76b8cf325877cb6fe2e032052e89a8" for ::1 at 2016-07-22 18:03:39 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQA8cHLfFA9nNsWiDs5f6JICNXWmViT2kVAVUbhJms_6pw3KuuLyYDgfla1LAANEerZq8xLuPm7Vkoi8MgxwOrmKYWAmA8e71W9NMtXFrCd3SOIqsUEBcun3l0AwsfkTC9fHzCEbnxGwxP6-SxwsduyQMcP_PcUvF49GPxzCIPbhGXoKiXyG-pEpITHPjTHm7wRlVoweaD3v8K_szC1eEE-vIPCcwjQ5I_WDRKH0qGsBYmArWs6Hvuk-lB0BW1VJa__WwR-0PkKpht7cWdovL0WgSEv2ou3N9dSnb7-SDlsxkBACpcJTVZDb9dNCAu9B9t0", "state"=>"650be71f7b47af4d8c76b8cf325877cb6fe2e032052e89a8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 16:03:40 UTC], ["updated_at", 2016-07-22 16:03:40 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "gender" = $6 WHERE "users"."id" = $7[0m  [["updated_at", 2016-07-22 16:03:40 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:16)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 63ms (ActiveRecord: 10.6ms)


Started GET "/" for ::1 at 2016-07-22 18:03:40 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 0.8ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 18:04:07 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 18:04:07 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 35ms (Views: 32.5ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (126.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (125.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (351.7ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (251.1ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 16:04:50 UTC], ["updated_at", 2016-07-22 16:04:50 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 18:04:55 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 260ms (Views: 249.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 18:04:56 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 18:04:56 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCLF1A46cf3D4cIbJFPZ7aM_QgtiOHrDf5GPRc1r7yz8cf8CmFrI6VcKDfvtWPvBHf6FeXCO8-HfD-fT6TaoFX8N6Ksou2nSPRDsDM6lDyWgmhjqlwDdOOmwa1pEHq1JDlRT_OarWENSR-IdRrrUy6FItqgTay_Rd6vjCPqo60sZnvimaVufR_S_hnm1gSijsoBB2g3UIsfezUQL9akjqKhBox_gLV8FVhp5kk4klI_40MnMRz_4PaNa2c8T8Wgmr_dOhJUDOIg_IgCuYgY7rTPeiYOqZsihInmN4kx3hI8g1wRogjhGS4cVXAqnIhqU9A&state=0fdebb444836162b575503a1d40643a4258ec8aca9612eb1" for ::1 at 2016-07-22 18:04:57 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCLF1A46cf3D4cIbJFPZ7aM_QgtiOHrDf5GPRc1r7yz8cf8CmFrI6VcKDfvtWPvBHf6FeXCO8-HfD-fT6TaoFX8N6Ksou2nSPRDsDM6lDyWgmhjqlwDdOOmwa1pEHq1JDlRT_OarWENSR-IdRrrUy6FItqgTay_Rd6vjCPqo60sZnvimaVufR_S_hnm1gSijsoBB2g3UIsfezUQL9akjqKhBox_gLV8FVhp5kk4klI_40MnMRz_4PaNa2c8T8Wgmr_dOhJUDOIg_IgCuYgY7rTPeiYOqZsihInmN4kx3hI8g1wRogjhGS4cVXAqnIhqU9A", "state"=>"0fdebb444836162b575503a1d40643a4258ec8aca9612eb1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 16:04:57 UTC], ["updated_at", 2016-07-22 16:04:57 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "gender" = $8 WHERE "users"."id" = $9[0m  [["updated_at", 2016-07-22 16:04:57 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:16)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 45ms (ActiveRecord: 6.9ms)


Started GET "/" for ::1 at 2016-07-22 18:04:57 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 18:05:36 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 18:05:36 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 40ms (Views: 37.9ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (126.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (339.8ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (243.6ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 16:05:45 UTC], ["updated_at", 2016-07-22 16:05:45 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 18:05:52 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 293ms (Views: 281.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 18:05:54 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 18:05:54 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDnqUdFvV1kGzA-FrEtt4ZxiU9B2Qb94ElL-KexKixkVsMXHtAznY5u1bQfPx1003q41_i5JahDKVhK1jMG9Sylb_rziS7V3ISDPhTVPwMfZrNKFlr9Z-ltLWErvQkBw_D3N1HmKVsRtEcfQ_wZomq5AcCzLSkGzrX0lkLQBncG0kRBmJZ4r5EIxRpret5SfusvzSz0DJmBK56vZPmulLJ9pttEibgsXaMBwo9-bIlrlMo-Y6_bxRpBi7H8WhlFv0IY4wD-cJg9sYV-8irIVhnW8VoiHtJsin_CEcQYDtKrn-4yDscRDJxVbx8hdjoKLwE&state=b6734c16338b365fee57ed0ec9c28e336f7c7bbdfa6cede2" for ::1 at 2016-07-22 18:05:54 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDnqUdFvV1kGzA-FrEtt4ZxiU9B2Qb94ElL-KexKixkVsMXHtAznY5u1bQfPx1003q41_i5JahDKVhK1jMG9Sylb_rziS7V3ISDPhTVPwMfZrNKFlr9Z-ltLWErvQkBw_D3N1HmKVsRtEcfQ_wZomq5AcCzLSkGzrX0lkLQBncG0kRBmJZ4r5EIxRpret5SfusvzSz0DJmBK56vZPmulLJ9pttEibgsXaMBwo9-bIlrlMo-Y6_bxRpBi7H8WhlFv0IY4wD-cJg9sYV-8irIVhnW8VoiHtJsin_CEcQYDtKrn-4yDscRDJxVbx8hdjoKLwE", "state"=>"b6734c16338b365fee57ed0ec9c28e336f7c7bbdfa6cede2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 16:05:55 UTC], ["updated_at", 2016-07-22 16:05:55 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 16:05:55 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:16)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 6.9ms)


Started GET "/" for ::1 at 2016-07-22 18:05:55 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 40ms (Views: 38.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 18:07:23 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 18:07:23 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 61ms (Views: 58.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "date" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT "reigns".* FROM "reigns"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (123.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "date" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:09:29 UTC], ["updated_at", 2016-07-22 17:09:29 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:18:15 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 289ms (Views: 276.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:18:16 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:18:17 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCEtdJ1n5CLoK8-g-hR3K2fqZUln2ZY0QGRfU-Wfhy57CwFI8uRpgO19DIpxm0URtiDJ60YGd5_nD_e4038_tOsgZhqo3oB71e9TqSvb8eh2tQDZS1t-vnFAUrt0v5DBh6kOPf0WhgzGTTCrb1eBhUvXmjiAyM78QCP_YneFYBaYWnrlCa2HAd3JAk4qXJuxta9QjV2OuYQJZodV2hxZi5bh2UPaNPyBqP_v25sy_l_hhvo7gRK3aG_jYUVNTx3WUQoI7Tf0GB2Qc4qY0JUaUysMYIwI-SJvk6LruB_Qdf6X5q0t726ts9UNps0QGExk8c&state=e08b1a5ad3b8534fe684324764eb6397eba96590e1c5a0a6" for ::1 at 2016-07-22 19:18:17 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCEtdJ1n5CLoK8-g-hR3K2fqZUln2ZY0QGRfU-Wfhy57CwFI8uRpgO19DIpxm0URtiDJ60YGd5_nD_e4038_tOsgZhqo3oB71e9TqSvb8eh2tQDZS1t-vnFAUrt0v5DBh6kOPf0WhgzGTTCrb1eBhUvXmjiAyM78QCP_YneFYBaYWnrlCa2HAd3JAk4qXJuxta9QjV2OuYQJZodV2hxZi5bh2UPaNPyBqP_v25sy_l_hhvo7gRK3aG_jYUVNTx3WUQoI7Tf0GB2Qc4qY0JUaUysMYIwI-SJvk6LruB_Qdf6X5q0t726ts9UNps0QGExk8c", "state"=>"e08b1a5ad3b8534fe684324764eb6397eba96590e1c5a0a6"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:18:17 UTC], ["updated_at", 2016-07-22 17:18:17 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:18:17 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 44ms (ActiveRecord: 7.3ms)


Started GET "/" for ::1 at 2016-07-22 19:18:17 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.4ms)


Started GET "/signout" for ::1 at 2016-07-22 19:18:21 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:18:21 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (121.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (243.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (247.3ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "date" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:18:34 UTC], ["updated_at", 2016-07-22 17:18:34 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:21:48 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 271ms (Views: 261.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:21:50 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:21:50 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQABnmg5VshjnzpWTh9Y7H8T8j4rlquaKTlH2bRyTt-zSWc_wj8OsLrN7zf0_v5NsvqHOLvmLMK-cmXeVQ4ZhDRicOv1__55n59DR9uRTxCvGAX5EsBGtxfShJnl-pfwHTT4qjTRBBv0xMN7gd0kVGmtd7zjXylYQpWAKXc9-JZbSfbPoEG5BtKR20Rjolv1eIBTcvzv4psCEurXifO7a2Y54cWQ4VQS5sCLPKfrzpPG8RLJaNwMCarBaixKPueY1a98pQ0HzUp2OgWyzYdjP2PYJQ-q64OG6NpBWfrmkvtUh54V-OTVFXb9ub5p8sEYQ0U&state=efabb9d7c75654412f428691f08f72f4c21317ba7b20abea" for ::1 at 2016-07-22 19:21:50 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQABnmg5VshjnzpWTh9Y7H8T8j4rlquaKTlH2bRyTt-zSWc_wj8OsLrN7zf0_v5NsvqHOLvmLMK-cmXeVQ4ZhDRicOv1__55n59DR9uRTxCvGAX5EsBGtxfShJnl-pfwHTT4qjTRBBv0xMN7gd0kVGmtd7zjXylYQpWAKXc9-JZbSfbPoEG5BtKR20Rjolv1eIBTcvzv4psCEurXifO7a2Y54cWQ4VQS5sCLPKfrzpPG8RLJaNwMCarBaixKPueY1a98pQ0HzUp2OgWyzYdjP2PYJQ-q64OG6NpBWfrmkvtUh54V-OTVFXb9ub5p8sEYQ0U", "state"=>"efabb9d7c75654412f428691f08f72f4c21317ba7b20abea"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:21:53 UTC], ["updated_at", 2016-07-22 17:21:53 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:21:53 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:21:53 UTC], ["updated_at", 2016-07-22 17:21:53 UTC]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 96ms (ActiveRecord: 15.2ms)


Started GET "/" for ::1 at 2016-07-22 19:21:53 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 42ms (Views: 39.9ms | ActiveRecord: 0.9ms)


  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 19:22:52 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:22:52 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 41ms (Views: 39.4ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (5042.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (123.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (119.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (332.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (244.6ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:23:24 UTC], ["updated_at", 2016-07-22 17:23:24 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:23:34 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 271ms (Views: 258.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:23:34 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:23:46 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:23:46 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCDnaVqiSum2pBlKOZJe3Oq_qYFoyLuSgB1FiK-StraO2tyqlrdjr310bLqBC3NC5nrHSFNE9G5Br2l3z5fzFQnewK-Iqir7wwx09GMKTNf3h9S2QItT0NQ7bCZVOh0TzCgF7VcQNjsqApThulpryjEGJ2HmIQRQTk0UhLw_iBOR_wjZvjkAv00H0rSgKYv6ZiKmZaCEo2KJ1QnSgM4KwqqQPnsL05VpIAE-N72q_NpTfUQVxHPjU3EfQqKLrYrqfrn62scyZB6S5H0JM13NdsOnMTihFycyH77Rif4ft0rDNdZtYKgBXghP1RYzZHO8iY&state=cfc676a84714f047500abe61aa8d86243e7d09de3299c775" for ::1 at 2016-07-22 19:23:46 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCDnaVqiSum2pBlKOZJe3Oq_qYFoyLuSgB1FiK-StraO2tyqlrdjr310bLqBC3NC5nrHSFNE9G5Br2l3z5fzFQnewK-Iqir7wwx09GMKTNf3h9S2QItT0NQ7bCZVOh0TzCgF7VcQNjsqApThulpryjEGJ2HmIQRQTk0UhLw_iBOR_wjZvjkAv00H0rSgKYv6ZiKmZaCEo2KJ1QnSgM4KwqqQPnsL05VpIAE-N72q_NpTfUQVxHPjU3EfQqKLrYrqfrn62scyZB6S5H0JM13NdsOnMTihFycyH77Rif4ft0rDNdZtYKgBXghP1RYzZHO8iY", "state"=>"cfc676a84714f047500abe61aa8d86243e7d09de3299c775"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:23:47 UTC], ["updated_at", 2016-07-22 17:23:47 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:23:47 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:23:47 UTC], ["updated_at", 2016-07-22 17:23:47 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 101ms (ActiveRecord: 11.9ms)


Started GET "/" for ::1 at 2016-07-22 19:23:47 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 39ms (Views: 35.1ms | ActiveRecord: 1.4ms)


  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (119.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (243.9ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (242.6ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:24:15 UTC], ["updated_at", 2016-07-22 17:24:15 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "first_name") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", 2016-07-22 17:25:17 UTC], ["updated_at", 2016-07-22 17:25:17 UTC], ["first_name", "vbm"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2016-07-22 19:25:26 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (35.2ms)
Completed 200 OK in 287ms (Views: 269.7ms | ActiveRecord: 6.1ms)


Started GET "/signout" for ::1 at 2016-07-22 19:25:28 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:25:28 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 40ms (Views: 37.8ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (323.3ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (243.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:25:50 UTC], ["updated_at", 2016-07-22 17:25:50 UTC]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:27:17 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:27:18 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBgfeqPjzF-XrDqMYJND4L4TH24K8BrirpRoiMfmK7-FYrtWuwxqrFt-F4Ov_Pq2gzdENOWevzc2boLZvSO6bMkNLyIbEUuVKeWCC9t6WkhLkuKYCZRq9PzV6bAR6VX9ULiSa9gw-zgSQdLeNrBC_e16CIP6EqK6aXMow_s5oTqME7INx7IM20q4pW1LurGNaKy61ZFd7gkSuMaeIx6qVa8HXrFtPhBG9sOTy4RhJoRpTTClyie4g_2QOmxyPHjKkoVoYpvXnr93D7s4zCrfUuG8ye72ugPalm3qwcS7UeSE24b53kIKH3cx0a6zkrS9Jw&state=c6a580e728436aea2631db8e40644472b21d27839f8149b3" for ::1 at 2016-07-22 19:27:18 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBgfeqPjzF-XrDqMYJND4L4TH24K8BrirpRoiMfmK7-FYrtWuwxqrFt-F4Ov_Pq2gzdENOWevzc2boLZvSO6bMkNLyIbEUuVKeWCC9t6WkhLkuKYCZRq9PzV6bAR6VX9ULiSa9gw-zgSQdLeNrBC_e16CIP6EqK6aXMow_s5oTqME7INx7IM20q4pW1LurGNaKy61ZFd7gkSuMaeIx6qVa8HXrFtPhBG9sOTy4RhJoRpTTClyie4g_2QOmxyPHjKkoVoYpvXnr93D7s4zCrfUuG8ye72ugPalm3qwcS7UeSE24b53kIKH3cx0a6zkrS9Jw", "state"=>"c6a580e728436aea2631db8e40644472b21d27839f8149b3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:27:18 UTC], ["updated_at", 2016-07-22 17:27:18 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:27:18 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:27:18 UTC], ["updated_at", 2016-07-22 17:27:18 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 80ms (ActiveRecord: 10.6ms)


Started GET "/" for ::1 at 2016-07-22 19:27:18 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 226ms (Views: 223.6ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
Started GET "/signout" for ::1 at 2016-07-22 19:27:30 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:27:30 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:27:31 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:27:31 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCNo_HwZIMiPUdJnylK__8xBmKIClVBwmInRQCjadLVKGapS2Wetg2QPLV21Lsz_i0Mrp8AxmetOPYrWKKGTYl1hjtoxScSLbBw-4z4wHiQh3axJydulDohEyCCNHV8vqvmNQWxDgLwnIAMua1GLEFOR_i4RmzHIfrH5dffE_4eeTvF35OG-pV_Dh29hUvENCdaVgEKtccD98yTzBsucii1AINHSU_T93-Rqtnp3fGZleyzudDqMWyl4DmOxRIOXcHocC_k7E3h1tH7rxjAqJYyn9ArVIi_rmJi7Z4Xh2JS4vAONvy88hnQuDeaK55r1i8&state=e9a7181f14f680354e69471839b2a723f12178c885398d02" for ::1 at 2016-07-22 19:27:31 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCNo_HwZIMiPUdJnylK__8xBmKIClVBwmInRQCjadLVKGapS2Wetg2QPLV21Lsz_i0Mrp8AxmetOPYrWKKGTYl1hjtoxScSLbBw-4z4wHiQh3axJydulDohEyCCNHV8vqvmNQWxDgLwnIAMua1GLEFOR_i4RmzHIfrH5dffE_4eeTvF35OG-pV_Dh29hUvENCdaVgEKtccD98yTzBsucii1AINHSU_T93-Rqtnp3fGZleyzudDqMWyl4DmOxRIOXcHocC_k7E3h1tH7rxjAqJYyn9ArVIi_rmJi7Z4Xh2JS4vAONvy88hnQuDeaK55r1i8", "state"=>"e9a7181f14f680354e69471839b2a723f12178c885398d02"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:27:32 UTC], ["updated_at", 2016-07-22 17:27:32 UTC]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 4.5ms)


Started GET "/" for ::1 at 2016-07-22 19:27:32 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 22ms (Views: 18.9ms | ActiveRecord: 1.5ms)


  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mReign Load (0.7ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 19:28:04 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:28:04 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (119.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (119.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (326.9ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (243.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:28:39 UTC], ["updated_at", 2016-07-22 17:28:39 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:28:44 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 294ms (Views: 281.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:28:46 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:28:46 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBI1WqMgD681M8DxgnRK2D7L4kX3NADCWHS4VUDE3K_QphsvzthnUqFLfNtlbNt1HT6oGJR_dKSK4X56tR0De2ZvVjAQwmxNwt3fZVa7hccDOGY-l7PYuSr0C18rFRqHj-futrXnTjNo_I0dUAGCl4Y8MdkL_nIpq0C7pQbzf0l73uKha5hP-f_s_Ao6wzBb9fSKrVPsc4f6QlzZrcKnGKTopfdpnVSTuQC_FF248K37kAiRoRIeIfV9fFBrCS749EMKDxfoQSS0JnJxsCCPM1elDdpDPNDP_1ZHV1WpLU8JmqTPprf7F9K9Iq9fShHmp8&state=0b2ae216971f2dbb67ba1e9130843c2d1c66f988041ad1f6" for ::1 at 2016-07-22 19:28:46 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBI1WqMgD681M8DxgnRK2D7L4kX3NADCWHS4VUDE3K_QphsvzthnUqFLfNtlbNt1HT6oGJR_dKSK4X56tR0De2ZvVjAQwmxNwt3fZVa7hccDOGY-l7PYuSr0C18rFRqHj-futrXnTjNo_I0dUAGCl4Y8MdkL_nIpq0C7pQbzf0l73uKha5hP-f_s_Ao6wzBb9fSKrVPsc4f6QlzZrcKnGKTopfdpnVSTuQC_FF248K37kAiRoRIeIfV9fFBrCS749EMKDxfoQSS0JnJxsCCPM1elDdpDPNDP_1ZHV1WpLU8JmqTPprf7F9K9Iq9fShHmp8", "state"=>"0b2ae216971f2dbb67ba1e9130843c2d1c66f988041ad1f6"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:28:47 UTC], ["updated_at", 2016-07-22 17:28:47 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:28:47 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.7ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 80ms (ActiveRecord: 11.0ms)


  
NoMethodError (undefined method `finished=' for nil:NilClass):
  
app/controllers/sessions_controller.rb:7:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (66.2ms)
Started GET "/" for ::1 at 2016-07-22 19:29:36 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:29:38 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:29:38 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBBil5hkmDxdaGZK-5NvR4FMZNzDey_hbSa8vmfNDUBu1SHGR1t2RcQonQCEoVo0j19mmGsYqbWD4B3RHyOvF44GLz9Kor4w-SB0p1l1ilN01pyi8RIxKM2ZkU48FgzSAXv12ak8QQY5qFtKkhXDs9eUrs5-HDV7zl3z771sDfMkK8zHjd5vrz5bZfmOh1qYQ0kZR-K4xqelUNQSlnrJAsTp7dksaWzTNnlDXLewJQdTwgfs_6rFfLZ9gxjkR3JFrHJwYAuMhHoGA1xYbIqfiwcSxvQdNpn4NZlZh9Naf4sWyAXo1omcBWl1VOWJ60DJLM&state=7a6942a769a2ec0162f5d32be439035567715bc341707c31" for ::1 at 2016-07-22 19:29:38 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBBil5hkmDxdaGZK-5NvR4FMZNzDey_hbSa8vmfNDUBu1SHGR1t2RcQonQCEoVo0j19mmGsYqbWD4B3RHyOvF44GLz9Kor4w-SB0p1l1ilN01pyi8RIxKM2ZkU48FgzSAXv12ak8QQY5qFtKkhXDs9eUrs5-HDV7zl3z771sDfMkK8zHjd5vrz5bZfmOh1qYQ0kZR-K4xqelUNQSlnrJAsTp7dksaWzTNnlDXLewJQdTwgfs_6rFfLZ9gxjkR3JFrHJwYAuMhHoGA1xYbIqfiwcSxvQdNpn4NZlZh9Naf4sWyAXo1omcBWl1VOWJ60DJLM", "state"=>"7a6942a769a2ec0162f5d32be439035567715bc341707c31"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:29:39 UTC], ["updated_at", 2016-07-22 17:29:39 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 50ms (ActiveRecord: 11.2ms)


Started GET "/" for ::1 at 2016-07-22 19:29:39 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 25ms (Views: 22.0ms | ActiveRecord: 1.3ms)


Started GET "/signout" for ::1 at 2016-07-22 19:29:42 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:29:42 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 32ms (Views: 30.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:29:43 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:29:43 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQD0HPwPQ7KITvK7tRSenxT50GB-OuP8svBu1XZ8CRqaW2RcROqbvgZJ8xD8nn3yOAOLcnkA2mvRSwPiXZI19sQXDLOAYcAEQR8-tQqmb4-Ib64rbfXVSkdI2JK_rpM8aDadR4eqMeXa-1ylYPqFF1qrykx3Qmx-nrVO48oQVTzBRh26AMnOpoFMDSt9fEgKHy0NChBi7M9-XBTiZnjRjSaLiauLak9FXGwvsJ62UI_y3pfa1EAuRpAW05MtiZ5rGBs-bBPjXBOS34Ccj9RJzUCmxEdtbz8H_OKdLl15JXlZ00zgdqaQzyr7HG5T0uoVKY4&state=2898a346f7471a58fb4c88bbad2e4c204903e399b7cf0850" for ::1 at 2016-07-22 19:29:43 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQD0HPwPQ7KITvK7tRSenxT50GB-OuP8svBu1XZ8CRqaW2RcROqbvgZJ8xD8nn3yOAOLcnkA2mvRSwPiXZI19sQXDLOAYcAEQR8-tQqmb4-Ib64rbfXVSkdI2JK_rpM8aDadR4eqMeXa-1ylYPqFF1qrykx3Qmx-nrVO48oQVTzBRh26AMnOpoFMDSt9fEgKHy0NChBi7M9-XBTiZnjRjSaLiauLak9FXGwvsJ62UI_y3pfa1EAuRpAW05MtiZ5rGBs-bBPjXBOS34Ccj9RJzUCmxEdtbz8H_OKdLl15JXlZ00zgdqaQzyr7HG5T0uoVKY4", "state"=>"2898a346f7471a58fb4c88bbad2e4c204903e399b7cf0850"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:29:44 UTC], ["updated_at", 2016-07-22 17:29:44 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 4.5ms)


Started GET "/" for ::1 at 2016-07-22 19:29:44 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 1.6ms)


Started GET "/signout" for ::1 at 2016-07-22 19:29:47 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:29:47 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 37ms (Views: 35.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:29:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:29:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQANOQSqmwUIMqH5o0362C5JrVxZnU5jLOkktZUKDAv8u56XzumV2A_VRqhV2Dx443E5ULD-TQTaZZCWQ7RdYa2MsLjins2pNIHfvqL2EbUTei6cmDJB4fQTCbn5BjEi9ISe7ZrouP-HXKFOK_GimJnH1ZUnX7NLND5omEg25U3mDrJG7ueYQUVqoRppZTCA3Nae3KWi94KcCwMzOQH6ARR0FN8ZP3il7hrec-EV20-XDnJuHUl2wRvA8zEmSK_h19LsH8ou5lE8nYaRzY0n7SZB6ih3kSntmI0YlH5b15xZZ9sarLnCAw84lltICvrgI0s&state=5449a03865b923f07c54dedfcd16a9c76b93a20728c2c2f0" for ::1 at 2016-07-22 19:29:48 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQANOQSqmwUIMqH5o0362C5JrVxZnU5jLOkktZUKDAv8u56XzumV2A_VRqhV2Dx443E5ULD-TQTaZZCWQ7RdYa2MsLjins2pNIHfvqL2EbUTei6cmDJB4fQTCbn5BjEi9ISe7ZrouP-HXKFOK_GimJnH1ZUnX7NLND5omEg25U3mDrJG7ueYQUVqoRppZTCA3Nae3KWi94KcCwMzOQH6ARR0FN8ZP3il7hrec-EV20-XDnJuHUl2wRvA8zEmSK_h19LsH8ou5lE8nYaRzY0n7SZB6ih3kSntmI0YlH5b15xZZ9sarLnCAw84lltICvrgI0s", "state"=>"5449a03865b923f07c54dedfcd16a9c76b93a20728c2c2f0"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:29:48 UTC], ["updated_at", 2016-07-22 17:29:48 UTC]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 4.2ms)


Started GET "/" for ::1 at 2016-07-22 19:29:48 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 27ms (Views: 24.2ms | ActiveRecord: 0.8ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 19:30:27 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:30:27 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 27ms (Views: 25.2ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (325.1ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (245.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:30:41 UTC], ["updated_at", 2016-07-22 17:30:41 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:30:49 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 290ms (Views: 276.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:30:52 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:30:52 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBeV8twp0OGIQM97Q07kIm9EUud4phrQPSpROW5l-zZuhJI6RhOv0_Nyv6BZf6Lsb2RaVeelm09UL_vMPtwkSvrbvyghxm7bGg8PM4_yxg4WPplK2UIkwbWckrrCmHxCWWxA_TDhuq5NuCAp9PGkNZUxESr2AeK6sgZXzfXgiKNj6TyXd9-7rZWeOsm0NQg4aFKzDijIc9nQpEXbSNQI8pfSMv8hwmE3JyX7NXprFfku4jjODPKKyoLebfC3qwtPdE4fBFJqxUFHjurpFkZ_1lDGehawqTxvQuCNco6zK5nOsEhvknGr-7I3FqPjl79FFc&state=a937288ff53c0b9445040ee7a65e90412c4fa0c1e72c367b" for ::1 at 2016-07-22 19:30:52 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBeV8twp0OGIQM97Q07kIm9EUud4phrQPSpROW5l-zZuhJI6RhOv0_Nyv6BZf6Lsb2RaVeelm09UL_vMPtwkSvrbvyghxm7bGg8PM4_yxg4WPplK2UIkwbWckrrCmHxCWWxA_TDhuq5NuCAp9PGkNZUxESr2AeK6sgZXzfXgiKNj6TyXd9-7rZWeOsm0NQg4aFKzDijIc9nQpEXbSNQI8pfSMv8hwmE3JyX7NXprFfku4jjODPKKyoLebfC3qwtPdE4fBFJqxUFHjurpFkZ_1lDGehawqTxvQuCNco6zK5nOsEhvknGr-7I3FqPjl79FFc", "state"=>"a937288ff53c0b9445040ee7a65e90412c4fa0c1e72c367b"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:30:52 UTC], ["updated_at", 2016-07-22 17:30:52 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:30:52 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:30:53 UTC], ["updated_at", 2016-07-22 17:30:53 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 104ms (ActiveRecord: 14.0ms)


Started GET "/" for ::1 at 2016-07-22 19:30:53 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 40ms (Views: 36.5ms | ActiveRecord: 1.2ms)


Started GET "/signout" for ::1 at 2016-07-22 19:30:56 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:30:56 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:30:57 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:30:57 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBTXTc2Y9c4C_i8y5XdphzqtPJKoY92FDZBusFlYZ6Dg9KET0JvvkDQUNrDXmUcu_Z93UZKc-BB1tzGaTN03kJygCjz1C6PXJKHmzBtxcaKw1k-fMtoT7PFWPro1xB3XU6pt5fPSRFKVcfRCmx8aOlsXzT6DvexF9EoDPLce_xRDTp80UZ0ZOzp1PGdYgy0gJBDBnUdtlvEWLO-hess90Z9F4ygXPow7MCYCBIWxoLsAyD9OvY640jlhv-p7ZC3jh3fr_tBsIOo6LNXfuxSM3oMp3E7mxbvvKRmn-Cv4nGIyZXix8jo60LtOsRfTchB0dA&state=cc67e8910e0e14c1ab80beceb1924667c38c90e1431a2492" for ::1 at 2016-07-22 19:30:58 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBTXTc2Y9c4C_i8y5XdphzqtPJKoY92FDZBusFlYZ6Dg9KET0JvvkDQUNrDXmUcu_Z93UZKc-BB1tzGaTN03kJygCjz1C6PXJKHmzBtxcaKw1k-fMtoT7PFWPro1xB3XU6pt5fPSRFKVcfRCmx8aOlsXzT6DvexF9EoDPLce_xRDTp80UZ0ZOzp1PGdYgy0gJBDBnUdtlvEWLO-hess90Z9F4ygXPow7MCYCBIWxoLsAyD9OvY640jlhv-p7ZC3jh3fr_tBsIOo6LNXfuxSM3oMp3E7mxbvvKRmn-Cv4nGIyZXix8jo60LtOsRfTchB0dA", "state"=>"cc67e8910e0e14c1ab80beceb1924667c38c90e1431a2492"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:30:58 UTC], ["updated_at", 2016-07-22 17:30:58 UTC]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 4.1ms)


Started GET "/" for ::1 at 2016-07-22 19:30:58 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 1.1ms)


  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 19:31:46 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:31:46 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 242ms (Views: 240.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:31:47 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:31:48 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBnchH1V3Zj8_f2DPHNyvw5-yjxZuo2i2KUF2fcJoST_FxvrMkw5wPAGojCed6nLRiiZBFGwD0N7BcoVHRMxyfUrxkrc2Lf0mbsOH4vkJW9jnfgyUyuIqE8YWfbRrRPvcCP-iglpsly2a_oqEPxCOHAdF9OW6ZnrbmMDAd8JmNyX_WQApVtGy_6C6fvLBzMANeG_1fVz6pOGuTdsuV7BTaCy96SUAo8J5HjZliPWEx4EuzI8RmwcYhRtDs-jB9ZZGlf9ask5W_xO_oOmCPi488_q_NnSoLvJhXgbcZjgVV43RP4t67JGCntST43ygFRAVs&state=ff024e6dc2a275ee74d258c4d265f6a5f03726623f877442" for ::1 at 2016-07-22 19:31:48 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBnchH1V3Zj8_f2DPHNyvw5-yjxZuo2i2KUF2fcJoST_FxvrMkw5wPAGojCed6nLRiiZBFGwD0N7BcoVHRMxyfUrxkrc2Lf0mbsOH4vkJW9jnfgyUyuIqE8YWfbRrRPvcCP-iglpsly2a_oqEPxCOHAdF9OW6ZnrbmMDAd8JmNyX_WQApVtGy_6C6fvLBzMANeG_1fVz6pOGuTdsuV7BTaCy96SUAo8J5HjZliPWEx4EuzI8RmwcYhRtDs-jB9ZZGlf9ask5W_xO_oOmCPi488_q_NnSoLvJhXgbcZjgVV43RP4t67JGCntST43ygFRAVs", "state"=>"ff024e6dc2a275ee74d258c4d265f6a5f03726623f877442"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:31:48 UTC], ["updated_at", 2016-07-22 17:31:48 UTC]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 64ms (ActiveRecord: 10.7ms)


Started GET "/" for ::1 at 2016-07-22 19:31:48 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 48ms (Views: 45.7ms | ActiveRecord: 0.5ms)


Started GET "/signout" for ::1 at 2016-07-22 19:31:50 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:31:50 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 43ms (Views: 40.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:31:51 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:31:51 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCFtOgKYdIV5utm_J1iAPDr7PDlwfsT__kpYC3Sza9LR7o1mzFUFpjwVwhVB2GM0VoGrJU5udRXZrB7777717dAW-SyO-LcxhZpva95Eb2Cu8LtbevH_ezZw1vZS88Z7BqwGZJryVKjNI1pjx9WzTAb2KBdJUmXb1ormC0ILHg8SftqQ2G9v7vfaQDUHf5vyB470p_h9jZEi2EGlYUyNj4IaeHIDyIR0c2WCLB8jfX14QbQSbO0uiOt1lhDDZwZ_Eiwm_-9zm4ki4S3RVzWU6T4TJAkHXbqB2U1nkdqXwchiTA6eTBuCb2D429mDoheLeg&state=73dc119ceee2694f819919d39c2315e449787561562d3022" for ::1 at 2016-07-22 19:31:51 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCFtOgKYdIV5utm_J1iAPDr7PDlwfsT__kpYC3Sza9LR7o1mzFUFpjwVwhVB2GM0VoGrJU5udRXZrB7777717dAW-SyO-LcxhZpva95Eb2Cu8LtbevH_ezZw1vZS88Z7BqwGZJryVKjNI1pjx9WzTAb2KBdJUmXb1ormC0ILHg8SftqQ2G9v7vfaQDUHf5vyB470p_h9jZEi2EGlYUyNj4IaeHIDyIR0c2WCLB8jfX14QbQSbO0uiOt1lhDDZwZ_Eiwm_-9zm4ki4S3RVzWU6T4TJAkHXbqB2U1nkdqXwchiTA6eTBuCb2D429mDoheLeg", "state"=>"73dc119ceee2694f819919d39c2315e449787561562d3022"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:31:52 UTC], ["updated_at", 2016-07-22 17:31:52 UTC]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 4.1ms)


Started GET "/" for ::1 at 2016-07-22 19:31:52 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 35ms (Views: 32.4ms | ActiveRecord: 0.8ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 19:32:40 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:32:40 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (121.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (245.0ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (246.7ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:32:49 UTC], ["updated_at", 2016-07-22 17:32:49 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:33:26 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:33:27 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDbMZQYkRBci5hyfiArSI_2gv-oOvTPm4y4ODlRtYu24YBKxZNws9820snnFQm2gnnyazRIeSh1JfnQLdVFgE7X39KtMmXrs4Tz8uYtvLrBAed_wNK4EhM1d3e_6Cs2dByPJu50hLpM5TEnhQApbwLP0GLFb69U5F5415u6jaj3vCrkFGv3ERG2lUqeV08cOWH_o9-b07P1L4leEve-9QHrGr3IYgbf2nussIqNxhTy0xuiqYxoCXohk0YmdBoGr47MaDPrLCupe0hHIXKzLfDGGz63aInUlg6gx-0lMeFHaJOEB9qgkciWw6rLl6KiJB0&state=76176f2519a1e84f41198d43676f7bcc96ef38e779cfeeb5" for ::1 at 2016-07-22 19:33:27 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDbMZQYkRBci5hyfiArSI_2gv-oOvTPm4y4ODlRtYu24YBKxZNws9820snnFQm2gnnyazRIeSh1JfnQLdVFgE7X39KtMmXrs4Tz8uYtvLrBAed_wNK4EhM1d3e_6Cs2dByPJu50hLpM5TEnhQApbwLP0GLFb69U5F5415u6jaj3vCrkFGv3ERG2lUqeV08cOWH_o9-b07P1L4leEve-9QHrGr3IYgbf2nussIqNxhTy0xuiqYxoCXohk0YmdBoGr47MaDPrLCupe0hHIXKzLfDGGz63aInUlg6gx-0lMeFHaJOEB9qgkciWw6rLl6KiJB0", "state"=>"76176f2519a1e84f41198d43676f7bcc96ef38e779cfeeb5"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:33:28 UTC], ["updated_at", 2016-07-22 17:33:28 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:33:28 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:33:28 UTC], ["updated_at", 2016-07-22 17:33:28 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 76ms (ActiveRecord: 11.5ms)


Started GET "/" for ::1 at 2016-07-22 19:33:28 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 225ms (Views: 222.9ms | ActiveRecord: 0.6ms)


Started GET "/signout" for ::1 at 2016-07-22 19:33:29 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:33:29 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 43ms (Views: 40.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:33:30 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:33:31 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBukb-pjO70lmo-DninH4b_i2XmWeyKocysLAh4YSXeTmVUz_IZy9UslWkSPr1gkxO9_UJvEuFtnAFDR4Xzi1Co2y9OY2GsDuLoioK_Z7M_AoQUaUFAf3oKwcUlhWVHYsaKf7i6Se8mI1ot0pFtIea39JhKtVJSilvH490nj4Vzf88lQtD0h53MJ1fLfsG9VFB_DjUlj9mI23FjBJ2ks2NJInj9VUup5yX6kCybBpER97S4MP8WtdT6dJTJXzu8d1n0rG5sppLsOk-ViPA4PVH07cLFdtqEeQYYyAdjEQCFIrNZENZR9JN4mZ1N6LcnopE&state=8401ab12dcfa03633b26383cfc4fbb365304063d7ad6f61e" for ::1 at 2016-07-22 19:33:31 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBukb-pjO70lmo-DninH4b_i2XmWeyKocysLAh4YSXeTmVUz_IZy9UslWkSPr1gkxO9_UJvEuFtnAFDR4Xzi1Co2y9OY2GsDuLoioK_Z7M_AoQUaUFAf3oKwcUlhWVHYsaKf7i6Se8mI1ot0pFtIea39JhKtVJSilvH490nj4Vzf88lQtD0h53MJ1fLfsG9VFB_DjUlj9mI23FjBJ2ks2NJInj9VUup5yX6kCybBpER97S4MP8WtdT6dJTJXzu8d1n0rG5sppLsOk-ViPA4PVH07cLFdtqEeQYYyAdjEQCFIrNZENZR9JN4mZ1N6LcnopE", "state"=>"8401ab12dcfa03633b26383cfc4fbb365304063d7ad6f61e"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:33:32 UTC], ["updated_at", 2016-07-22 17:33:32 UTC]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 4.7ms)


Started GET "/" for ::1 at 2016-07-22 19:33:32 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 1.3ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (121.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (330.8ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (244.6ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:36:43 UTC], ["updated_at", 2016-07-22 17:36:43 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:36:48 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (27.5ms)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 4.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:3:in `_app_views_welcome_index_html_erb__499000040185605829_70100928468980'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (74.3ms)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "first_name") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", 2016-07-22 17:37:11 UTC], ["updated_at", 2016-07-22 17:37:11 UTC], ["first_name", "vbm"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2016-07-22 19:37:16 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (19.2ms)
Completed 200 OK in 239ms (Views: 235.3ms | ActiveRecord: 2.0ms)


Started GET "/signout" for ::1 at 2016-07-22 19:37:18 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:37:18 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 32ms (Views: 29.5ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (244.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (243.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:37:27 UTC], ["updated_at", 2016-07-22 17:37:27 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:37:32 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 238ms (Views: 229.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:37:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:37:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDkjoj_JF_8aDkQRmle0WV09d8eiWbzcp0CMxOQAJWKw-iTtXO7aiWuGMHGHlzaqsHPWKLumB-fFkZXMUzbqjqqLXxNoENp3yArDs3LT-SB77biUDx_FKs2vFQjXEkTi9YNVjtQyL93lEFbBUPnjgXU0KDeYGMlHqUi3icECu1OzZ6NK3dB4e4LAPZzrOGVEF9QDuWemQYFiAwWUwZGNk8wSFyMJHxPK1T-YTv1hVdfZi6vzHUjtUxVGZMKoQ1X6VbCp9XhxoQyUDiyb5uT-aApbMoKMkfjXS7pNVpaf4nu2BxUyS8r3_4OPAoO3zVtDkQ&state=a34697854a28197a1a9cb9ddbd7090c38e6d3a085547431e" for ::1 at 2016-07-22 19:37:35 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDkjoj_JF_8aDkQRmle0WV09d8eiWbzcp0CMxOQAJWKw-iTtXO7aiWuGMHGHlzaqsHPWKLumB-fFkZXMUzbqjqqLXxNoENp3yArDs3LT-SB77biUDx_FKs2vFQjXEkTi9YNVjtQyL93lEFbBUPnjgXU0KDeYGMlHqUi3icECu1OzZ6NK3dB4e4LAPZzrOGVEF9QDuWemQYFiAwWUwZGNk8wSFyMJHxPK1T-YTv1hVdfZi6vzHUjtUxVGZMKoQ1X6VbCp9XhxoQyUDiyb5uT-aApbMoKMkfjXS7pNVpaf4nu2BxUyS8r3_4OPAoO3zVtDkQ", "state"=>"a34697854a28197a1a9cb9ddbd7090c38e6d3a085547431e"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:37:36 UTC], ["updated_at", 2016-07-22 17:37:36 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:37:36 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:37:36 UTC], ["updated_at", 2016-07-22 17:37:36 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 68ms (ActiveRecord: 10.3ms)


Started GET "/" for ::1 at 2016-07-22 19:37:36 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 42ms (Views: 39.5ms | ActiveRecord: 0.7ms)


Started GET "/signout" for ::1 at 2016-07-22 19:37:38 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:37:38 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 44ms (Views: 40.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:37:39 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:37:40 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCQChqkuldyv3AQutywukEqf6T8JOhxzF8mcD7iB6Mh72snPa6M_pCY5nelIG3vnTW3xRsrXz-jKd5X8FIMJU-qaVhtH2xj_6_8YKYSAE6wAgI_TzvC8kT47RaIe_UY3UU38AzGpdkhjBUFch9ZWj8ZXlL5hJoc3Y1xi4n_fVcW_HEX2ehkeB6cFZvOUIrFXotZUQcKNzbKD6xAWh75WclgDyNGH2iOJlUC1LG-9Mb3gNGMN3D9iw6MO_Vgwfx9JTCzj-Gi5KV3F0K8jlcl5eJKS-Lve08PRziGw96ddXWHP0ddZOhlaxrwowpLOWNANTk&state=c1e17091248cba09270060c291ae1ae6b465490ae723c291" for ::1 at 2016-07-22 19:37:40 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCQChqkuldyv3AQutywukEqf6T8JOhxzF8mcD7iB6Mh72snPa6M_pCY5nelIG3vnTW3xRsrXz-jKd5X8FIMJU-qaVhtH2xj_6_8YKYSAE6wAgI_TzvC8kT47RaIe_UY3UU38AzGpdkhjBUFch9ZWj8ZXlL5hJoc3Y1xi4n_fVcW_HEX2ehkeB6cFZvOUIrFXotZUQcKNzbKD6xAWh75WclgDyNGH2iOJlUC1LG-9Mb3gNGMN3D9iw6MO_Vgwfx9JTCzj-Gi5KV3F0K8jlcl5eJKS-Lve08PRziGw96ddXWHP0ddZOhlaxrwowpLOWNANTk", "state"=>"c1e17091248cba09270060c291ae1ae6b465490ae723c291"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:37:40 UTC], ["updated_at", 2016-07-22 17:37:40 UTC]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 2.7ms)


Started GET "/" for ::1 at 2016-07-22 19:37:40 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 37ms (Views: 33.5ms | ActiveRecord: 2.1ms)


Started GET "/signout" for ::1 at 2016-07-22 19:37:42 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:37:42 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 39ms (Views: 36.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:37:45 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:37:45 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCP3E1pDo2ueVcvN6ro_d3K43BKpoknVjxa9TcOQygDJfWR9gcowjz5bfmxPFynzUMlcRmZEJ_TVJxfaSU9vH5VKbPdOkdQtgDcRf-FBx_Hz3XMNiNJfE6CVaWhPgeKbNXO3QhBH0wZmu25DP5iunjvibGuRIU7co6SiHSxe-ibj-u6ROUF_rlOEZCbjP_jc_yBbf3iCwXcuDObSCsKL18U77Wko98iXahUkzQ1ASVvygdqNtrqwOVgv6k3eqzUSfacV7qlAQ2KSOF_Dj9f4wIoYAgBdIUKZQ9RNNFefUA8uDOEF-_IamGymz1QzVfnF-g&state=4bb6cc09c1cc955b36fd2c6eb25c0d3309b05496f2b41a53" for ::1 at 2016-07-22 19:37:45 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCP3E1pDo2ueVcvN6ro_d3K43BKpoknVjxa9TcOQygDJfWR9gcowjz5bfmxPFynzUMlcRmZEJ_TVJxfaSU9vH5VKbPdOkdQtgDcRf-FBx_Hz3XMNiNJfE6CVaWhPgeKbNXO3QhBH0wZmu25DP5iunjvibGuRIU7co6SiHSxe-ibj-u6ROUF_rlOEZCbjP_jc_yBbf3iCwXcuDObSCsKL18U77Wko98iXahUkzQ1ASVvygdqNtrqwOVgv6k3eqzUSfacV7qlAQ2KSOF_Dj9f4wIoYAgBdIUKZQ9RNNFefUA8uDOEF-_IamGymz1QzVfnF-g", "state"=>"4bb6cc09c1cc955b36fd2c6eb25c0d3309b05496f2b41a53"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:37:46 UTC], ["updated_at", 2016-07-22 17:37:46 UTC]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 3.5ms)


Started GET "/" for ::1 at 2016-07-22 19:37:46 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  Rendered welcome/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 29ms (Views: 26.6ms | ActiveRecord: 1.4ms)


Started GET "/signout" for ::1 at 2016-07-22 19:37:47 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:37:47 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 41ms (Views: 39.7ms | ActiveRecord: 0.0ms)


  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT "reigns".* FROM "reigns" WHERE "reigns"."id" = $1[0m  [["id", 2]]
  [1m[36mReign Load (2.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2016-07-22 19:40:23 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 261ms (Views: 250.8ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:40:25 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:40:26 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:40:26 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDQqws0XCD9fYlnhcFE3zt_xUhI0NMXkMmzh4vlWuM6ZMRGvuGO-M2Hj-UZDkqTHUG-azk0lpZt2NjLaYU8ZhY3p2E1mhro3wp4ABGB-Vbw6UwJdDwMT6qwnc0jwRlk5L_1wI0ZE2CQf_p1Skcq_txS6dIBvDIUao0_JVfNhKi0ghSYWXGhu5wf3dkH7UdpU6D9gEhBBJe0ns8xAAZ1A7WO7SUsM7wEtw7tSLA2eMjhK-zGMqtUglQJQe0IZlAq1AacQ2o4IJU9YEVSehtL7wkZJpKMMsf2fz94uNqeLTvZJfMHejPgTckhOAVdT6CfGGM&state=26a43b5b26503dfd97cbb1ba6381a9f70bd3c97cb0febb6e" for ::1 at 2016-07-22 19:40:27 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDQqws0XCD9fYlnhcFE3zt_xUhI0NMXkMmzh4vlWuM6ZMRGvuGO-M2Hj-UZDkqTHUG-azk0lpZt2NjLaYU8ZhY3p2E1mhro3wp4ABGB-Vbw6UwJdDwMT6qwnc0jwRlk5L_1wI0ZE2CQf_p1Skcq_txS6dIBvDIUao0_JVfNhKi0ghSYWXGhu5wf3dkH7UdpU6D9gEhBBJe0ns8xAAZ1A7WO7SUsM7wEtw7tSLA2eMjhK-zGMqtUglQJQe0IZlAq1AacQ2o4IJU9YEVSehtL7wkZJpKMMsf2fz94uNqeLTvZJfMHejPgTckhOAVdT6CfGGM", "state"=>"26a43b5b26503dfd97cbb1ba6381a9f70bd3c97cb0febb6e"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:40:27 UTC], ["updated_at", 2016-07-22 17:40:27 UTC]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 83ms (ActiveRecord: 9.9ms)


Started GET "/" for ::1 at 2016-07-22 19:40:27 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 52ms (Views: 48.9ms | ActiveRecord: 1.1ms)


Started GET "/signout" for ::1 at 2016-07-22 19:40:39 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:40:39 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 27ms (Views: 24.9ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (120.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (120.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (341.5ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (242.9ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:40:47 UTC], ["updated_at", 2016-07-22 17:40:47 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:00 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:01 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAFuWMSgvxo1seJZpNZQn8aIMMZ0x4tAexYGOv0NnB1oGa-nwhWRDWzeK-Bxy0zWuRlf0lQqPZMRm2sCuKkfeO2Xf9y4fYjFXBXyKvEnTVwjMIX11sF5dbxlTmpNqd_8yYhjNU7cMxmFWyoyTtDjDTxcMxlTi7LfKFhZ00s50AsbHF22uRtuwFzJrAv8Cqu3qb_uukAsAJFww3bsSLtd_-Dyjn3LXKDKvRSErGvwo2nt2FQ13M6ssfnvyn3RmcYHDavXXcXSaImjAYPSbACgsW8x20slRWhDS1HxBZUHflUkWpOyzdIU1WL7Xw7p8tAjBg&state=e1a6bf1188534a1e6f5ec0d3d275a7971e0945a95c36c2c5" for ::1 at 2016-07-22 19:42:01 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAFuWMSgvxo1seJZpNZQn8aIMMZ0x4tAexYGOv0NnB1oGa-nwhWRDWzeK-Bxy0zWuRlf0lQqPZMRm2sCuKkfeO2Xf9y4fYjFXBXyKvEnTVwjMIX11sF5dbxlTmpNqd_8yYhjNU7cMxmFWyoyTtDjDTxcMxlTi7LfKFhZ00s50AsbHF22uRtuwFzJrAv8Cqu3qb_uukAsAJFww3bsSLtd_-Dyjn3LXKDKvRSErGvwo2nt2FQ13M6ssfnvyn3RmcYHDavXXcXSaImjAYPSbACgsW8x20slRWhDS1HxBZUHflUkWpOyzdIU1WL7Xw7p8tAjBg", "state"=>"e1a6bf1188534a1e6f5ec0d3d275a7971e0945a95c36c2c5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:42:02 UTC], ["updated_at", 2016-07-22 17:42:02 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:42:02 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:42:02 UTC], ["updated_at", 2016-07-22 17:42:02 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 85ms (ActiveRecord: 12.4ms)


Started GET "/" for ::1 at 2016-07-22 19:42:02 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 234ms (Views: 231.8ms | ActiveRecord: 0.8ms)


Started GET "/signout" for ::1 at 2016-07-22 19:42:05 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:42:05 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 35ms (Views: 32.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:06 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:06 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCYjpmtz_K4658qzRtcyv5L1Pc46EmdsExn-ZuKwq0E-1rrfW4B5D60vntmMUr3tn6755CDZpIGef86rQLNwPcj_ix2qI44vyeH4f1ryzSaf9iWpGdAzVedthBcUQf9HWEQ-Q-0UTUWc0dpwd6UV3tmb_2sn_lF_3pbmf2coVVpHnpi3b_vqtpbTsi2jVo7KGiMxWFXEtq50ylrNV3ZloyTlOQiz9WLdd6z97kehcwuWGtN4JTp1to25MVKwfs4vMe2vKacX8eq2eVwHD9k5TWfF9JUwQdLgVHjGL-LmEMRBvmuxkwKVeajocmjqGeqdx8&state=e894f00c20e5b947df01ef9eca40088ba76d614fc669e3d7" for ::1 at 2016-07-22 19:42:07 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCYjpmtz_K4658qzRtcyv5L1Pc46EmdsExn-ZuKwq0E-1rrfW4B5D60vntmMUr3tn6755CDZpIGef86rQLNwPcj_ix2qI44vyeH4f1ryzSaf9iWpGdAzVedthBcUQf9HWEQ-Q-0UTUWc0dpwd6UV3tmb_2sn_lF_3pbmf2coVVpHnpi3b_vqtpbTsi2jVo7KGiMxWFXEtq50ylrNV3ZloyTlOQiz9WLdd6z97kehcwuWGtN4JTp1to25MVKwfs4vMe2vKacX8eq2eVwHD9k5TWfF9JUwQdLgVHjGL-LmEMRBvmuxkwKVeajocmjqGeqdx8", "state"=>"e894f00c20e5b947df01ef9eca40088ba76d614fc669e3d7"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.5ms)


  
NoMethodError (undefined method `now' for Date:Class
Did you mean?  new):
  
app/controllers/sessions_controller.rb:10:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (69.2ms)
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:26 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:26 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAQoPkY7cZzCyiH8aAJv8TI1NedU9U6GWftrTiB43m3CrZfc6fxk1gvskU5zPrPZ0NkzQVDjirWQqFCgne75_-TkiUcbkMVUsYABMzayJCSJbr5ju1oai6NS7udrvmknFCTjIzpsG6VXRWuZhqrvWfRLot4RBU2KDgRIp6BRrhAU2IkR462Iip7RJVmGacT1f0uL9JEaUBkUKFuRwKDyqtL0T2VFhlr8qOtkAHaU8JGiSpfZZ8y8B3VzJMjHCdj_w3Lp3fySNcWv0K3hr03jVB-mbibqn8AuDNJr6t0brz52JytK79_MmdID_bkaV44MH0&state=f0181afe00c960ab64fc0fee69fa294990876f5bcacd2c94" for ::1 at 2016-07-22 19:42:26 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAQoPkY7cZzCyiH8aAJv8TI1NedU9U6GWftrTiB43m3CrZfc6fxk1gvskU5zPrPZ0NkzQVDjirWQqFCgne75_-TkiUcbkMVUsYABMzayJCSJbr5ju1oai6NS7udrvmknFCTjIzpsG6VXRWuZhqrvWfRLot4RBU2KDgRIp6BRrhAU2IkR462Iip7RJVmGacT1f0uL9JEaUBkUKFuRwKDyqtL0T2VFhlr8qOtkAHaU8JGiSpfZZ8y8B3VzJMjHCdj_w3Lp3fySNcWv0K3hr03jVB-mbibqn8AuDNJr6t0brz52JytK79_MmdID_bkaV44MH0", "state"=>"f0181afe00c960ab64fc0fee69fa294990876f5bcacd2c94"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:42:27 UTC], ["updated_at", 2016-07-22 17:42:27 UTC]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 45ms (ActiveRecord: 11.0ms)


Started GET "/" for ::1 at 2016-07-22 19:42:27 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 31ms (Views: 27.3ms | ActiveRecord: 1.7ms)


Started GET "/signout" for ::1 at 2016-07-22 19:42:29 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:42:29 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:30 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:42:30 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDF5jt4ems4yIr92i-T75FCesvW8Ntg33DU-lpwKwmzE6DdIZ0eXw8Q6wVaNUq9InKIxTG93hni9LqsjQGDytBVlolLRcLx03f9GeQTkNkuqM6jozwsn4_Y7FggF3xuB0W_fQV80n8Q8wEzqqqj3nFmaICOag5rnNZbr8Bnj5jgk4WJtsGgtXBrar5CuurNY6Ioo1UaN7UakVo6nfXs2iwwkudtL9WaqxCg7C6ol285FtjazXJSgahVhVqedPmDPv3D1fKOdcn-Q7FVYOMJTHo2gFba9_kCZ-CAsjtw2nz28iUFoGraSZUJ6tB5W0C_A1M&state=6839758e13f41b6eca08cf16ebbe43620ad67ac3b0947afb" for ::1 at 2016-07-22 19:42:30 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDF5jt4ems4yIr92i-T75FCesvW8Ntg33DU-lpwKwmzE6DdIZ0eXw8Q6wVaNUq9InKIxTG93hni9LqsjQGDytBVlolLRcLx03f9GeQTkNkuqM6jozwsn4_Y7FggF3xuB0W_fQV80n8Q8wEzqqqj3nFmaICOag5rnNZbr8Bnj5jgk4WJtsGgtXBrar5CuurNY6Ioo1UaN7UakVo6nfXs2iwwkudtL9WaqxCg7C6ol285FtjazXJSgahVhVqedPmDPv3D1fKOdcn-Q7FVYOMJTHo2gFba9_kCZ-CAsjtw2nz28iUFoGraSZUJ6tB5W0C_A1M", "state"=>"6839758e13f41b6eca08cf16ebbe43620ad67ac3b0947afb"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.7ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:42:31 UTC], ["updated_at", 2016-07-22 17:42:31 UTC]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 5.1ms)


Started GET "/" for ::1 at 2016-07-22 19:42:31 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 40ms (Views: 37.2ms | ActiveRecord: 0.8ms)


Started GET "/signout" for ::1 at 2016-07-22 19:42:33 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:42:33 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 40ms (Views: 36.2ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (244.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (242.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:43:32 UTC], ["updated_at", 2016-07-22 17:43:32 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:43:40 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 253ms (Views: 243.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:43:43 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:43:43 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDkUVrn8qDhd0pIPWprOSENlfZy_Ds7d8sGHdtATBB0csA--f9dN5fUhfTD-Pp7eIlhyo5AowcVf0ZyLbPlvH1ZwOBYqFuHbPXjPm0xFxWudGIEuef0liXIPu5bycnvRLQusjR6ggtw-HahCc8BeR6kc2CfXpiS40oeNhLHS98Ot4Wi2XTOvUe-20KBg9ucIgabzEAWmKBB9jHDZKwvWVwX5gk1vRu7BrweNvyYyTkD1Al9t8bDhQeyJhFsh7hrbHOTtWfqeZBSybdXTG74-IuMxwhAf4c1xYzuF9VExBfWAFEJtR_LoXqC8JX2vYOp07k&state=6f82a38311acd51fe1a22c3bf83544bf89b92a772f91f715" for ::1 at 2016-07-22 19:43:43 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDkUVrn8qDhd0pIPWprOSENlfZy_Ds7d8sGHdtATBB0csA--f9dN5fUhfTD-Pp7eIlhyo5AowcVf0ZyLbPlvH1ZwOBYqFuHbPXjPm0xFxWudGIEuef0liXIPu5bycnvRLQusjR6ggtw-HahCc8BeR6kc2CfXpiS40oeNhLHS98Ot4Wi2XTOvUe-20KBg9ucIgabzEAWmKBB9jHDZKwvWVwX5gk1vRu7BrweNvyYyTkD1Al9t8bDhQeyJhFsh7hrbHOTtWfqeZBSybdXTG74-IuMxwhAf4c1xYzuF9VExBfWAFEJtR_LoXqC8JX2vYOp07k", "state"=>"6f82a38311acd51fe1a22c3bf83544bf89b92a772f91f715"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:43:44 UTC], ["updated_at", 2016-07-22 17:43:44 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:43:44 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:43:44 UTC], ["updated_at", 2016-07-22 17:43:44 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 63ms (ActiveRecord: 11.3ms)


Started GET "/" for ::1 at 2016-07-22 19:43:44 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 43ms (Views: 40.0ms | ActiveRecord: 0.8ms)


Started GET "/signout" for ::1 at 2016-07-22 19:43:47 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:43:47 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:43:49 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:43:49 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAc_yDRvKXsIzwB-tWPcDgK0iyBZcDjtb7K3FUYRB9jxz9ntxyaHRYES9anXMZAFAf4WELJ-w9fMmxuUDOiWjxNLrZgwaNs0AopmXiZSd84m2V8PO2k8lQYRSc5CWm3VQ-LJAQvKeLM8HQfFrcHP45qvRWNSrKhk3yTQWL8oih-3JmwYXGR1KGROpECgXnCyjdNI3x3kU_QJeI85UNBNcg1j9ETAzepUah_DAwPBfkig-Kjj_iqA4f32Bu0h5wPZLIuWXX3uuA-6ma_oqGiwD77w6QyWw0qOMttR8wZ1wOV9P1kkWhqHstBUb7apKC5mbE&state=5f252ccd9de868c6e286693fb9b376293477ae3a803c26dc" for ::1 at 2016-07-22 19:43:49 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAc_yDRvKXsIzwB-tWPcDgK0iyBZcDjtb7K3FUYRB9jxz9ntxyaHRYES9anXMZAFAf4WELJ-w9fMmxuUDOiWjxNLrZgwaNs0AopmXiZSd84m2V8PO2k8lQYRSc5CWm3VQ-LJAQvKeLM8HQfFrcHP45qvRWNSrKhk3yTQWL8oih-3JmwYXGR1KGROpECgXnCyjdNI3x3kU_QJeI85UNBNcg1j9ETAzepUah_DAwPBfkig-Kjj_iqA4f32Bu0h5wPZLIuWXX3uuA-6ma_oqGiwD77w6QyWw0qOMttR8wZ1wOV9P1kkWhqHstBUb7apKC5mbE", "state"=>"5f252ccd9de868c6e286693fb9b376293477ae3a803c26dc"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:43:49 UTC], ["updated_at", 2016-07-22 17:43:49 UTC]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 3.2ms)


Started GET "/" for ::1 at 2016-07-22 19:43:49 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 35ms (Views: 31.0ms | ActiveRecord: 2.6ms)


Started GET "/signout" for ::1 at 2016-07-22 19:43:54 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:43:54 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 33ms (Views: 30.4ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (123.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (246.0ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (239.5ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:44:06 UTC], ["updated_at", 2016-07-22 17:44:06 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:44:15 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 252ms (Views: 243.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:44:17 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:44:17 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBITuQyg3bsd7q7pDe-dskwmhOjfDlXd-MVxg9ORWEg6PWW7WVIQ1nzOPy6-r-iHysnhVDUobxs41j9Js1fg15D5jfF9jfNNMhSuQHyk4nylqM8nFw691Q_v2UO9l_nA-DIN8s7k6KoiljRtjiIAZInCqDbI-2qKsnjzWPN7lvXP5vCCM8FDMpOYI5rvbkT4XnAh-dyg_1AEHAVlOLJ0DGdFTFB24aqua6vCSRJcurMrYd49eHiJMA1X2-FonIllHoi74SxZVksh7CQN2bcu_GWGGhsA2fNdoP9jL0sYOoRXFTHn6e4r9_7V9VejvK1igk&state=38d9fddb64209827ecb51d918d10424a9e8077621e74658a" for ::1 at 2016-07-22 19:44:17 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBITuQyg3bsd7q7pDe-dskwmhOjfDlXd-MVxg9ORWEg6PWW7WVIQ1nzOPy6-r-iHysnhVDUobxs41j9Js1fg15D5jfF9jfNNMhSuQHyk4nylqM8nFw691Q_v2UO9l_nA-DIN8s7k6KoiljRtjiIAZInCqDbI-2qKsnjzWPN7lvXP5vCCM8FDMpOYI5rvbkT4XnAh-dyg_1AEHAVlOLJ0DGdFTFB24aqua6vCSRJcurMrYd49eHiJMA1X2-FonIllHoi74SxZVksh7CQN2bcu_GWGGhsA2fNdoP9jL0sYOoRXFTHn6e4r9_7V9VejvK1igk", "state"=>"38d9fddb64209827ecb51d918d10424a9e8077621e74658a"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:44:18 UTC], ["updated_at", 2016-07-22 17:44:18 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:44:18 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:44:18 UTC], ["updated_at", 2016-07-22 17:44:18 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 68ms (ActiveRecord: 11.6ms)


Started GET "/" for ::1 at 2016-07-22 19:44:18 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.9ms)


Started GET "/signout" for ::1 at 2016-07-22 19:44:27 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:44:27 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:44:28 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:44:28 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDrJ8N4mu1LCq2_dLlAJ_Phr6ywBKW3AQaQSXvnCXdNjX5oOby13gD4zYdWC4nr9_qalOJ2x8K0uXwPiiEOfhf5pmQ3LVOPm8l7B_92QT-bPuRtCWzwx0Nj1cS3Ic_58_RBhpN35Sci21u3NH9_R6FNV4VJw6CpYP9lPxwX6zdOXV-I-2XqfQ7nITcJ2-7yy6oRDbF1Nlr7XTMlT5JC1OUdaaNi5ET3Yu4f5kexmr3c1iBZS2zMb22TGtLx4qrQ95nObXQOUgrk8siGR6qjEagYlKgBKsvzeIUYNIYH6D7RQ3XkoeB0CeMg8ScgJKj9KI4&state=bd57c66ba36b8b4505745d7987c0739a6e18f5338a7d8430" for ::1 at 2016-07-22 19:44:28 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDrJ8N4mu1LCq2_dLlAJ_Phr6ywBKW3AQaQSXvnCXdNjX5oOby13gD4zYdWC4nr9_qalOJ2x8K0uXwPiiEOfhf5pmQ3LVOPm8l7B_92QT-bPuRtCWzwx0Nj1cS3Ic_58_RBhpN35Sci21u3NH9_R6FNV4VJw6CpYP9lPxwX6zdOXV-I-2XqfQ7nITcJ2-7yy6oRDbF1Nlr7XTMlT5JC1OUdaaNi5ET3Yu4f5kexmr3c1iBZS2zMb22TGtLx4qrQ95nObXQOUgrk8siGR6qjEagYlKgBKsvzeIUYNIYH6D7RQ3XkoeB0CeMg8ScgJKj9KI4", "state"=>"bd57c66ba36b8b4505745d7987c0739a6e18f5338a7d8430"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.7ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 49775ms (ActiveRecord: 2.8ms)


  
SystemExit (exit):
  
app/controllers/sessions_controller.rb:14:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (213.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (62.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.6ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (354.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (121.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (247.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (264.5ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:46:40 UTC], ["updated_at", 2016-07-22 17:46:40 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:47:30 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 298ms (Views: 285.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:47:32 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:47:32 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQB-y2BQyiwuXlOwjyhHC1FkmHnnPjFimjUbnu3-yJGXQkKK8zglqARXLeuFuQOzqVNN7HxchLLaDtaEAUcTimO9kpn4j-WbXZOKUOWq-J5i9_rEtnuBMnd7OOEMEhYl-eNMUBp8fk5x0rnMqI70M-IUK2yxZcv5js5_ICwci0AKqob_wXlf6bDkSWEh9X6IIYjXjedP-SeWy8nGILJLQWR0O_2zDQrVAL0aM5zugDPSQnTqEwzJqlHJuVcaDmqkxoZ7HeICBF3QuYPqD7zbgS8vbA-6rz0clGE58YgddMD6Gd7-kqzA6rOL3ePreYug-x8&state=925a6e79a6e005657ed30298294747f8f8d9b34362d616f5" for ::1 at 2016-07-22 19:47:32 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQB-y2BQyiwuXlOwjyhHC1FkmHnnPjFimjUbnu3-yJGXQkKK8zglqARXLeuFuQOzqVNN7HxchLLaDtaEAUcTimO9kpn4j-WbXZOKUOWq-J5i9_rEtnuBMnd7OOEMEhYl-eNMUBp8fk5x0rnMqI70M-IUK2yxZcv5js5_ICwci0AKqob_wXlf6bDkSWEh9X6IIYjXjedP-SeWy8nGILJLQWR0O_2zDQrVAL0aM5zugDPSQnTqEwzJqlHJuVcaDmqkxoZ7HeICBF3QuYPqD7zbgS8vbA-6rz0clGE58YgddMD6Gd7-kqzA6rOL3ePreYug-x8", "state"=>"925a6e79a6e005657ed30298294747f8f8d9b34362d616f5"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:47:33 UTC], ["updated_at", 2016-07-22 17:47:33 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:47:33 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (1.8ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:47:33 UTC], ["updated_at", 2016-07-22 17:47:33 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 84ms (ActiveRecord: 13.7ms)


Started GET "/" for ::1 at 2016-07-22 19:47:33 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 42ms (Views: 39.5ms | ActiveRecord: 0.8ms)


Started GET "/signout" for ::1 at 2016-07-22 19:47:35 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:47:35 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 52ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:47:36 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:47:36 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQChl_cuw2jNk_K6AZZGZluHy6jHSqr0y14cN769qcdMEgklI4LfllMhMuHdtUuROIopIAu9glfEe7Fs6t8azoiWmqCGLhRnWPQhwm75aEItWeThgRsLFUGqACa5E8c0eAXXXJLzzk-UfMH4sZsPzVw11ENuQexsbETeJRos9NdFiGDDiFF3xAc2ki6Q6VRKTAQnu_zqV73lu5y4W5JU62JmLCS4FCumbBw29lP3Bg4nd8LruHhjF43M8e-LMN8_rlMCM6OQ-uvQQOEYw6cu4C83R6rvkMKxOpEdIvdENGPqVv8C7eH1NIW6-xwNgoyI3GE&state=6320631a782b093ea26c45ae08981b1742df33585be850f7" for ::1 at 2016-07-22 19:47:37 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQChl_cuw2jNk_K6AZZGZluHy6jHSqr0y14cN769qcdMEgklI4LfllMhMuHdtUuROIopIAu9glfEe7Fs6t8azoiWmqCGLhRnWPQhwm75aEItWeThgRsLFUGqACa5E8c0eAXXXJLzzk-UfMH4sZsPzVw11ENuQexsbETeJRos9NdFiGDDiFF3xAc2ki6Q6VRKTAQnu_zqV73lu5y4W5JU62JmLCS4FCumbBw29lP3Bg4nd8LruHhjF43M8e-LMN8_rlMCM6OQ-uvQQOEYw6cu4C83R6rvkMKxOpEdIvdENGPqVv8C7eH1NIW6-xwNgoyI3GE", "state"=>"6320631a782b093ea26c45ae08981b1742df33585be850f7"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:47:37 UTC], ["updated_at", 2016-07-22 17:47:37 UTC]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 4.7ms)


Started GET "/" for ::1 at 2016-07-22 19:47:37 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 1.6ms)


  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 19:50:49 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:50:49 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (332.3ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (243.8ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:51:00 UTC], ["updated_at", 2016-07-22 17:51:00 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:51:05 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:51:05 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCnOcH5bWzLQX9M4uSWilwmX102fqSXnrZAB221QI2dihSNs-3LusfeaBD-jBbcL0GD-Qs4kfukvfPVxG_KqyIPHe-hVqi5V6QrvUZ6f-LLRleKBDpIxo9pKmR9i6n-dQLdG4Eurp-hodRBNhc38C2IV0hE-3AIUu9xOhbzrJPexO5uB0ydQVCEoe-dCsqZZZMgoJp-52VN28UAk7WL2C9j92FtXw9DIT04j4d5MN2SAxEORrQgnauT1Hvns-j7Ga9NN6GqBVmCyfYTGEv2nNjj_xQ41ln1JRJF2tyne0DffGs1_5VOEZW09w2fFlmHlME&state=99a42dff1868005309bcbd1359cb660dcb401d9e8af27f2f" for ::1 at 2016-07-22 19:51:05 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCnOcH5bWzLQX9M4uSWilwmX102fqSXnrZAB221QI2dihSNs-3LusfeaBD-jBbcL0GD-Qs4kfukvfPVxG_KqyIPHe-hVqi5V6QrvUZ6f-LLRleKBDpIxo9pKmR9i6n-dQLdG4Eurp-hodRBNhc38C2IV0hE-3AIUu9xOhbzrJPexO5uB0ydQVCEoe-dCsqZZZMgoJp-52VN28UAk7WL2C9j92FtXw9DIT04j4d5MN2SAxEORrQgnauT1Hvns-j7Ga9NN6GqBVmCyfYTGEv2nNjj_xQ41ln1JRJF2tyne0DffGs1_5VOEZW09w2fFlmHlME", "state"=>"99a42dff1868005309bcbd1359cb660dcb401d9e8af27f2f"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:51:06 UTC], ["updated_at", 2016-07-22 17:51:06 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:51:06 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:51:06 UTC], ["updated_at", 2016-07-22 17:51:06 UTC]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 91ms (ActiveRecord: 11.0ms)


Started GET "/" for ::1 at 2016-07-22 19:51:06 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 247ms (Views: 243.9ms | ActiveRecord: 0.9ms)


Started GET "/signout" for ::1 at 2016-07-22 19:51:08 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:51:08 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 44ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:51:09 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:51:09 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCHTaMzLBSIjfVBKnuR71GMDZCpFrWurpJsvCksH1wzzakmZ8nKfswAVE_Jyi3XULO2izYKFuzxqZUTqgSggDFpS3Po-Fx36t9zLsWvJzFH7lxhZmOlL9Vnubsgz5nMKYlFt2tZ6n4hZJtulw-StBbptlujspzBBK-libInhsE5E1ly5j39UUZNqNvVOg2Qxn-3wP1tx_DpGkG7VbbKSxIlTujPAAsObluC0s6cYJ27ywSvjvlcSu659KXpHb1ws1QCNT1g2qHiJs2qfB0X05g6gyerJX5RJPYalZbRqbq1BF1MDeco40gG44EchQL9KOQ&state=6592d1f46c18163375c142266dca2a9e9a02962b45529180" for ::1 at 2016-07-22 19:51:09 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCHTaMzLBSIjfVBKnuR71GMDZCpFrWurpJsvCksH1wzzakmZ8nKfswAVE_Jyi3XULO2izYKFuzxqZUTqgSggDFpS3Po-Fx36t9zLsWvJzFH7lxhZmOlL9Vnubsgz5nMKYlFt2tZ6n4hZJtulw-StBbptlujspzBBK-libInhsE5E1ly5j39UUZNqNvVOg2Qxn-3wP1tx_DpGkG7VbbKSxIlTujPAAsObluC0s6cYJ27ywSvjvlcSu659KXpHb1ws1QCNT1g2qHiJs2qfB0X05g6gyerJX5RJPYalZbRqbq1BF1MDeco40gG44EchQL9KOQ", "state"=>"6592d1f46c18163375c142266dca2a9e9a02962b45529180"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:51:10 UTC], ["updated_at", 2016-07-22 17:51:10 UTC]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 2.8ms)


Started GET "/" for ::1 at 2016-07-22 19:51:10 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 29ms (Views: 24.9ms | ActiveRecord: 2.7ms)


Started GET "/signout" for ::1 at 2016-07-22 19:51:11 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:51:11 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 39ms (Views: 36.6ms | ActiveRecord: 0.0ms)


  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2016-07-22 19:52:21 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 40ms (Views: 38.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:52:22 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:52:23 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAoZE18QWRWtpbNGcGCKp4QbrvUEIhjKx9kBFJgDOBqjNHlazokudT3_IZ-yVOvTb66zu3D-ztbXIKWe-_8Dvg7zFy0dnTTONnbPvv-LZxpbezpaDWOjsShmsO6rR3XBSVph7Ba2nTpQV5kXm8LggEDp-ns_YoGPZ6PlAC-0uIQN7PJHW8R05Q3BqLAc1s6sEi3CFUfzldnWhUFE6zG8qZIBszAFqGYxWkLg1M7nuAjocR949v9HkEZ6aMbt5ZpDVg6TLQ6HuPlMwvm7i86RR-Y698EmWdQPLNxzMsGCHYhOnefD6NNFdjJmyhgBI9avmQ&state=4eba0541e338bc0d5ff5811604249dde0e213ac79803e1ba" for ::1 at 2016-07-22 19:52:23 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAoZE18QWRWtpbNGcGCKp4QbrvUEIhjKx9kBFJgDOBqjNHlazokudT3_IZ-yVOvTb66zu3D-ztbXIKWe-_8Dvg7zFy0dnTTONnbPvv-LZxpbezpaDWOjsShmsO6rR3XBSVph7Ba2nTpQV5kXm8LggEDp-ns_YoGPZ6PlAC-0uIQN7PJHW8R05Q3BqLAc1s6sEi3CFUfzldnWhUFE6zG8qZIBszAFqGYxWkLg1M7nuAjocR949v9HkEZ6aMbt5ZpDVg6TLQ6HuPlMwvm7i86RR-Y698EmWdQPLNxzMsGCHYhOnefD6NNFdjJmyhgBI9avmQ", "state"=>"4eba0541e338bc0d5ff5811604249dde0e213ac79803e1ba"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 31787ms (ActiveRecord: 8.1ms)


  
SystemExit (exit):
  
app/controllers/sessions_controller.rb:14:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (262.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (73.3ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.5ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (416.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (123.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (251.8ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (244.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 17:53:05 UTC], ["updated_at", 2016-07-22 17:53:05 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (4.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 19:53:21 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 283ms (Views: 268.2ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:53:23 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:53:23 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBkZan90_ECJ_m879hCNehakRxpfbDFvOmQ8ooI95NxYw4FV8Z3ok2jU7nplO_sthimzL1BPZUftMoeJFtpqKOELnm-UdW9oGGd8LsNIQv43r7rhR7Gp58z6i13mS0gP5CCTAJyxLbxO_neqJc3SncLjaImGkrW9QYxqzunAeeUfHgLgV6he32EJPwvfJ8j2LqvxogpppnD0lSQWUpdUTXR_IH6a92oJWg7eATstGhBtfN0JbdhhbJFOmTtfqQCOJ1OGyH1XDgjoHd3N714h5o1Y2Idn3cxkkxBKX1Iyz4Bfxz-VnBFtwUL3jHE0FB5CSk&state=32b912dfc01852fb8206d6494121545397d0465aab945609" for ::1 at 2016-07-22 19:53:23 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBkZan90_ECJ_m879hCNehakRxpfbDFvOmQ8ooI95NxYw4FV8Z3ok2jU7nplO_sthimzL1BPZUftMoeJFtpqKOELnm-UdW9oGGd8LsNIQv43r7rhR7Gp58z6i13mS0gP5CCTAJyxLbxO_neqJc3SncLjaImGkrW9QYxqzunAeeUfHgLgV6he32EJPwvfJ8j2LqvxogpppnD0lSQWUpdUTXR_IH6a92oJWg7eATstGhBtfN0JbdhhbJFOmTtfqQCOJ1OGyH1XDgjoHd3N714h5o1Y2Idn3cxkkxBKX1Iyz4Bfxz-VnBFtwUL3jHE0FB5CSk", "state"=>"32b912dfc01852fb8206d6494121545397d0465aab945609"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 17:53:24 UTC], ["updated_at", 2016-07-22 17:53:24 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 17:53:24 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:53:24 UTC], ["updated_at", 2016-07-22 17:53:24 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 74ms (ActiveRecord: 10.6ms)


Started GET "/" for ::1 at 2016-07-22 19:53:24 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 51ms (Views: 48.0ms | ActiveRecord: 0.8ms)


Started GET "/signout" for ::1 at 2016-07-22 19:53:25 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:53:25 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 51ms (Views: 49.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 19:53:26 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 19:53:26 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDYOkvOlSbrtpOkytxLwkI1PXPcAeRlkgbUacDZtnA4-9IY1MvU8yf8Zb24W-5dkAA8_n_myYO7SHLoysghi1NCV2cDnfoIqWuS-obD5yyt50R0r5ZzfEnhHBaIUkYZAc7LEc5bqRGoAqUsG1ePX2-XN2ozUy0F9YSr6p01XgZ3eHo_7Wm68f-3XSr0hilSuxyubGqz3aLQ0JpbrYUFUuEqWDI2MxMp7yA2j2kXDwDVbWCvsjwx8za-IsBUJdoWOxBEldow9YjchExLkfXJsAM7ac6lsE1b4faMdAFMi01iyjvv_Kiuzzd--e8-8M5Cp5Y&state=ea5cfe0b95b4f9597607881797a616e190796332f2aef708" for ::1 at 2016-07-22 19:53:26 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDYOkvOlSbrtpOkytxLwkI1PXPcAeRlkgbUacDZtnA4-9IY1MvU8yf8Zb24W-5dkAA8_n_myYO7SHLoysghi1NCV2cDnfoIqWuS-obD5yyt50R0r5ZzfEnhHBaIUkYZAc7LEc5bqRGoAqUsG1ePX2-XN2ozUy0F9YSr6p01XgZ3eHo_7Wm68f-3XSr0hilSuxyubGqz3aLQ0JpbrYUFUuEqWDI2MxMp7yA2j2kXDwDVbWCvsjwx8za-IsBUJdoWOxBEldow9YjchExLkfXJsAM7ac6lsE1b4faMdAFMi01iyjvv_Kiuzzd--e8-8M5Cp5Y", "state"=>"ea5cfe0b95b4f9597607881797a616e190796332f2aef708"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "reigns" SET "finished" = $1, "updated_at" = $2 WHERE "reigns"."id" = $3[0m  [["finished", 2016-07-22 17:53:27 UTC], ["updated_at", 2016-07-22 17:53:27 UTC], ["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 17:53:27 UTC], ["updated_at", 2016-07-22 17:53:27 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 6.1ms)


Started GET "/" for ::1 at 2016-07-22 19:53:27 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "reigns"[0m
  [1m[36mReign Load (0.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.8ms)


  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/signout" for ::1 at 2016-07-22 19:53:50 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 19:53:50 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (333.3ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (242.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 18:04:01 UTC], ["updated_at", 2016-07-22 18:04:01 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 20:04:06 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (20.8ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 3.7ms)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    23:     <% end %>
    24: 
    25: 
    26:     Current reign is: <%= current_reign.id %>
    27: 
    28: 
    29:   </body>
  
app/views/welcome/index.html.erb:26:in `_app_views_welcome_index_html_erb___3234934919213100534_70315625642640'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (67.3ms)
Started GET "/" for ::1 at 2016-07-22 20:04:31 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 204ms (Views: 201.8ms | ActiveRecord: 0.4ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:04:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:04:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQC6NB9RC6l51SEsUYTnRu09uY6kLnr8ViJPJ2qe3K9aaTyz7GbuE1OCtI4YOitKxZQz_TSwMEDw6Qi6ILX6077jPfAx849-2kv7SCzcrMF_qIGOzoH3l4n94DzGgmtyJ4tT8s5AdpDS5ThOxjtSk29Gd1JF3fw9GpRe6i_jTX8q7_uyL8RwozZc4VZSkgtSOfkqzyMfc1a1aYz_qLn0Fw--ZPMkgGOr377MoXR-f2-QwxfdKJLK5yvnmwV7WwRfSGwNyik9jSaPxoBufH8CJq6szCx2_MbtzP0AAZzxCEqegQc2zY5hGTEwDmQlb6DbDh8&state=7411b74c4dfd9e59f916bd6ebe88b811a5ac23dec38ad065" for ::1 at 2016-07-22 20:04:36 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQC6NB9RC6l51SEsUYTnRu09uY6kLnr8ViJPJ2qe3K9aaTyz7GbuE1OCtI4YOitKxZQz_TSwMEDw6Qi6ILX6077jPfAx849-2kv7SCzcrMF_qIGOzoH3l4n94DzGgmtyJ4tT8s5AdpDS5ThOxjtSk29Gd1JF3fw9GpRe6i_jTX8q7_uyL8RwozZc4VZSkgtSOfkqzyMfc1a1aYz_qLn0Fw--ZPMkgGOr377MoXR-f2-QwxfdKJLK5yvnmwV7WwRfSGwNyik9jSaPxoBufH8CJq6szCx2_MbtzP0AAZzxCEqegQc2zY5hGTEwDmQlb6DbDh8", "state"=>"7411b74c4dfd9e59f916bd6ebe88b811a5ac23dec38ad065"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 18:04:36 UTC], ["updated_at", 2016-07-22 18:04:36 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 18:04:36 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 18:04:36 UTC], ["updated_at", 2016-07-22 18:04:36 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 94ms (ActiveRecord: 9.9ms)


Started GET "/" for ::1 at 2016-07-22 20:04:36 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.9ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `user_id' for nil:NilClass):
    11:     <% if current_user %>
    12:       Hi <strong><%= current_user.first_name %></strong>!
    13: 
    14:       <% if current_user.id == current_monarch.id %>
    15:         You are ruling over the hill!
    16:       <% else %>
    17:         <%= current_monarch.id is ruling over the hill%>
  
app/controllers/application_controller.rb:16:in `current_monarch'
app/views/welcome/index.html.erb:14:in `_app_views_welcome_index_html_erb___3234934919213100534_70315659040240'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.0ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.3ms)
Started GET "/" for ::1 at 2016-07-22 20:06:19 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/valentinebm/Desktop/the_hill_app/app/views/welcome/index.html.erb:37: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/valentinebm/Desktop/the_hill_app/app/views/welcome/index.html.erb:39: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/welcome/index.html.erb:37: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/welcome/index.html.erb:39: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.0ms)
Started GET "/" for ::1 at 2016-07-22 20:07:13 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `user_id' for nil:NilClass):
    11:     <% if current_user %>
    12:       Hi <strong><%= current_user.first_name %></strong>!
    13: 
    14:       <% if current_monarch %>
    15:         <% if current_user.id == current_monarch.id %>
    16:         You are ruling over the hill!
    17:         <% else %>
  
app/controllers/application_controller.rb:16:in `current_monarch'
app/views/welcome/index.html.erb:14:in `_app_views_welcome_index_html_erb___3234934919213100534_70315630119060'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (242.7ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (245.8ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 18:07:23 UTC], ["updated_at", 2016-07-22 18:07:23 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 20:07:29 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (21.4ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 4.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:11:in `_app_views_welcome_index_html_erb___3690055186016026960_70255297255020'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.5ms)
Started GET "/" for ::1 at 2016-07-22 20:07:47 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:6:in `current_user'
app/views/welcome/index.html.erb:11:in `_app_views_welcome_index_html_erb___3690055186016026960_70255293498460'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["id", 1], ["created_at", 2016-07-22 18:08:17 UTC], ["updated_at", 2016-07-22 18:08:17 UTC]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2016-07-22 20:08:29 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (35.4ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 4.6ms)


  
ActionView::Template::Error (undefined method `user_id' for nil:NilClass):
    11:     <!-- <% if current_user %>
    12:       Hi <strong><%= current_user.first_name %></strong>!
    13: 
    14:       <% if current_monarch %>
    15:         <% if current_user.id == current_monarch.id %>
    16:         You are ruling over the hill!
    17:         <% else %>
  
app/controllers/application_controller.rb:16:in `current_monarch'
app/views/welcome/index.html.erb:14:in `_app_views_welcome_index_html_erb___2389014430476305381_70117671472760'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (82.3ms)
Started GET "/" for ::1 at 2016-07-22 20:08:55 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `user_id' for nil:NilClass):
    11:     <!-- <% if current_user %>
    12:       Hi <strong><%= current_user.first_name %></strong>!
    13: 
    14:       <% if current_monarch %>
    15:         <% if current_user.id == current_monarch.id %>
    16:         You are ruling over the hill!
    17:         <% else %>
  
app/controllers/application_controller.rb:16:in `current_monarch'
app/views/welcome/index.html.erb:14:in `_app_views_welcome_index_html_erb___2389014430476305381_70117663663380'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.7ms)
Started GET "/signout" for ::1 at 2016-07-22 20:09:16 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 20:09:16 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 196ms (Views: 190.2ms | ActiveRecord: 4.5ms)


Started GET "/" for ::1 at 2016-07-22 20:09:39 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (17.6ms)
Completed 200 OK in 250ms (Views: 237.1ms | ActiveRecord: 4.5ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:09:41 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:09:42 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCreGDuKVKMHtx3twnK9oGpOLdk6ScMlEcHxrpYc9vZq03Ht0xsuj_Dbn6veF20qHOMq2L8-PvF57WbPw8BHgpcaLtfV8Ooan5VCXYKc-dfSSMZY7F2_o5CS5dAQskuNVCZwRzuYiXzN23KBsQ9y4yCAI7_bFx3fiGd9D4FOKO1-ASRt1GRlCYl926Ku5vOpcBeutuxrVvR817yJj2o-tR0KlWyPYxoaGbz7evTyaznRzLTdKwJ_g71GwSKSJrVFvMvj34aXCbqYOBBvTfFxWrT1WwldGBiNwKYPOKYNro5cn9NmcbDhDCUTCnRU_9QipM&state=db894ba7b54d45434cbda8c3e2a21c3340e37af6ce768886" for ::1 at 2016-07-22 20:09:42 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCreGDuKVKMHtx3twnK9oGpOLdk6ScMlEcHxrpYc9vZq03Ht0xsuj_Dbn6veF20qHOMq2L8-PvF57WbPw8BHgpcaLtfV8Ooan5VCXYKc-dfSSMZY7F2_o5CS5dAQskuNVCZwRzuYiXzN23KBsQ9y4yCAI7_bFx3fiGd9D4FOKO1-ASRt1GRlCYl926Ku5vOpcBeutuxrVvR817yJj2o-tR0KlWyPYxoaGbz7evTyaznRzLTdKwJ_g71GwSKSJrVFvMvj34aXCbqYOBBvTfFxWrT1WwldGBiNwKYPOKYNro5cn9NmcbDhDCUTCnRU_9QipM", "state"=>"db894ba7b54d45434cbda8c3e2a21c3340e37af6ce768886"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 18:09:42 UTC], ["updated_at", 2016-07-22 18:09:42 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 24ms (ActiveRecord: 5.5ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "users_pkey"
DETAIL:  Key (id)=(1) already exists.
: INSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"):
  
app/models/user.rb:6:in `create_with_omniauth'
app/controllers/sessions_controller.rb:5:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (5048.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (121.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (244.9ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (240.4ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 18:10:28 UTC], ["updated_at", 2016-07-22 18:10:28 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/logout" for ::1 at 2016-07-22 20:10:36 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered collection of /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [4 times] (2.1ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (10.3ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.4ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (98.1ms)
Started GET "/" for ::1 at 2016-07-22 20:10:39 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (1.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (17.3ms)
Completed 200 OK in 222ms (Views: 216.5ms | ActiveRecord: 4.4ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:10:41 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:10:41 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQCIOfnuH_pTvloaYdwb0gEAiiVM5cwQAD2MBgxIbUR8TJDuc2IKKoBBB5maaH4Npn0HDUjESNGtXNxgmD1qVMTO_Zz6jbSUzgDNenDMxltj4XzQDv_lb9xr_E5a_FCzAEvIA79Zg55GACottXpjKJi7CObnUbYWPdCaGNKmMkXc9khKdCJWW08a5Ck62oSvS-srznheAJcZ3vmBFo5qngewdzAOetfb2FI_Esx3ePZvgnqvNy3u806kgzwoPakjwZ_C8zAUPGsyj6ixc2kSFSsRQpLVB-AW3fiNToXzMP1MF1-dbCBBUkSOVYuqTxCS7o0&state=0259c3208099ba7673118fa860c160dd2e423a48e210848e" for ::1 at 2016-07-22 20:10:41 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQCIOfnuH_pTvloaYdwb0gEAiiVM5cwQAD2MBgxIbUR8TJDuc2IKKoBBB5maaH4Npn0HDUjESNGtXNxgmD1qVMTO_Zz6jbSUzgDNenDMxltj4XzQDv_lb9xr_E5a_FCzAEvIA79Zg55GACottXpjKJi7CObnUbYWPdCaGNKmMkXc9khKdCJWW08a5Ck62oSvS-srznheAJcZ3vmBFo5qngewdzAOetfb2FI_Esx3ePZvgnqvNy3u806kgzwoPakjwZ_C8zAUPGsyj6ixc2kSFSsRQpLVB-AW3fiNToXzMP1MF1-dbCBBUkSOVYuqTxCS7o0", "state"=>"0259c3208099ba7673118fa860c160dd2e423a48e210848e"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 18:10:42 UTC], ["updated_at", 2016-07-22 18:10:42 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 18:10:42 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 18:10:42 UTC], ["updated_at", 2016-07-22 18:10:42 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 50ms (ActiveRecord: 7.9ms)


Started GET "/" for ::1 at 2016-07-22 20:10:42 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.5ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `user_id' for nil:NilClass):
    11:     <% if current_user %>
    12:       Hi <strong><%= current_user.first_name %></strong>!
    13: 
    14:       <% if current_monarch %>
    15:         <% if current_user.id == current_monarch.id %>
    16:         You are ruling over the hill!
    17:         <% else %>
  
app/controllers/application_controller.rb:16:in `current_monarch'
app/views/welcome/index.html.erb:14:in `_app_views_welcome_index_html_erb___917432991591672971_70332844589240'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.1ms)
Started GET "/" for ::1 at 2016-07-22 20:11:16 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (30.5ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 5.6ms)


  
ActionView::Template::Error (undefined method `id' for 1:Fixnum
Did you mean?  i):
    12:       Hi <strong><%= current_user.first_name %></strong>!
    13: 
    14:       <% if current_monarch %>
    15:         <% if current_user.id == current_monarch.id %>
    16:         You are ruling over the hill!
    17:         <% else %>
    18:         <%= current_monarch.id is ruling over the hill%>
  
app/views/welcome/index.html.erb:15:in `_app_views_welcome_index_html_erb___917432991591672971_70332844046700'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (68.6ms)
Started GET "/" for ::1 at 2016-07-22 20:11:49 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (33.1ms)
Completed 200 OK in 53ms (Views: 45.3ms | ActiveRecord: 5.2ms)


Started GET "/signout" for ::1 at 2016-07-22 20:11:52 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 20:11:52 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 28ms (Views: 25.6ms | ActiveRecord: 0.3ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:11:55 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:11:55 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDk3iay4zhzpITGCxT2cBh3F3Gf2OBZHv7eIVYlAxxfUDJR7l1wkRnO2vfu4XRrSs_W5inA5dX2-RR5e2WL_65nOR9g3ibDjSWLTx_-pMkgQeWMMG7VJqD_--st67vpqLfEwPXEUBv-V86G1PRrdD-qnJ61gbQicqfmADjODOpBB34ID-yWOJqGloRlXdqyp0AFF86_bpQhYAnTc1Sp3sSvvC-7x_wQsWEBmULDTkE9b6bog7CspJ8BYHgLQfc_xFlKsGRyZFM_c8jsx27tW3dqZsrfXR-WaVdaWOy2tnng3_e_tz1uA6YdyeAiKPB_uww&state=7805dade0fba961e8c7dae0be7b1b2c4e978ee663e4b3de2" for ::1 at 2016-07-22 20:11:55 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDk3iay4zhzpITGCxT2cBh3F3Gf2OBZHv7eIVYlAxxfUDJR7l1wkRnO2vfu4XRrSs_W5inA5dX2-RR5e2WL_65nOR9g3ibDjSWLTx_-pMkgQeWMMG7VJqD_--st67vpqLfEwPXEUBv-V86G1PRrdD-qnJ61gbQicqfmADjODOpBB34ID-yWOJqGloRlXdqyp0AFF86_bpQhYAnTc1Sp3sSvvC-7x_wQsWEBmULDTkE9b6bog7CspJ8BYHgLQfc_xFlKsGRyZFM_c8jsx27tW3dqZsrfXR-WaVdaWOy2tnng3_e_tz1uA6YdyeAiKPB_uww", "state"=>"7805dade0fba961e8c7dae0be7b1b2c4e978ee663e4b3de2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "reigns" SET "finished" = $1, "updated_at" = $2 WHERE "reigns"."id" = $3[0m  [["finished", 2016-07-22 18:11:56 UTC], ["updated_at", 2016-07-22 18:11:56 UTC], ["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 18:11:56 UTC], ["updated_at", 2016-07-22 18:11:56 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 4.2ms)


Started GET "/" for ::1 at 2016-07-22 20:11:56 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/signout" for ::1 at 2016-07-22 20:12:04 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 20:12:04 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 28ms (Views: 25.1ms | ActiveRecord: 0.3ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (122.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (122.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (242.3ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (241.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 18:12:16 UTC], ["updated_at", 2016-07-22 18:12:16 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (124.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (123.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (331.2ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (243.1ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 18:40:59 UTC], ["updated_at", 2016-07-22 18:40:59 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 20:41:12 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/valentinebm/Desktop/the_hill_app/app/views/welcome/index.html.erb:45: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/valentinebm/Desktop/the_hill_app/app/views/welcome/index.html.erb:47: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/welcome/index.html.erb:45: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/welcome/index.html.erb:47: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (71.7ms)
Started GET "/" for ::1 at 2016-07-22 20:41:24 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/valentinebm/Desktop/the_hill_app/app/views/welcome/index.html.erb:45: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/valentinebm/Desktop/the_hill_app/app/views/welcome/index.html.erb:47: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/welcome/index.html.erb:45: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/welcome/index.html.erb:47: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (79.6ms)
Started GET "/" for ::1 at 2016-07-22 20:41:27 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.8ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (18.0ms)
Completed 200 OK in 218ms (Views: 211.7ms | ActiveRecord: 4.5ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:41:29 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:41:29 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQB43XxJPUVV0m037h2T-ohfm-BpM-RoBK47N5lUzn3wFMU6npMXZY8DSfeNKSSRt1J-JbuFL-p7tZ6WQpivhXE7DnZOixow8s8bIH5rQp5jvnfx9mCVKwaxZtapZn1UTwEW3Qa943s6e8qd9cxY3qglmO9dgqn36y6mSAqCX7fQQJIyAoGj0KDd8oT1188AsXYenHhZ_KYO-Hf1XFSrt67NS3IKinFhI3lAj0EbjUuEvJNhvbJN085B7tFEXe0110HI07JnCAm1BxTO7PhgPVjGcbb6vrpVsURUpl2FDokyoVmdMtnxK7eVGf-jmkA_pJQ&state=58ada6eadef9512e055d27e9b711e2738d6e70b56b3b0301" for ::1 at 2016-07-22 20:41:30 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQB43XxJPUVV0m037h2T-ohfm-BpM-RoBK47N5lUzn3wFMU6npMXZY8DSfeNKSSRt1J-JbuFL-p7tZ6WQpivhXE7DnZOixow8s8bIH5rQp5jvnfx9mCVKwaxZtapZn1UTwEW3Qa943s6e8qd9cxY3qglmO9dgqn36y6mSAqCX7fQQJIyAoGj0KDd8oT1188AsXYenHhZ_KYO-Hf1XFSrt67NS3IKinFhI3lAj0EbjUuEvJNhvbJN085B7tFEXe0110HI07JnCAm1BxTO7PhgPVjGcbb6vrpVsURUpl2FDokyoVmdMtnxK7eVGf-jmkA_pJQ", "state"=>"58ada6eadef9512e055d27e9b711e2738d6e70b56b3b0301"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 18:41:30 UTC], ["updated_at", 2016-07-22 18:41:30 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 18:41:30 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 18:41:30 UTC], ["updated_at", 2016-07-22 18:41:30 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 64ms (ActiveRecord: 10.6ms)


Started GET "/" for ::1 at 2016-07-22 20:41:30 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 29ms (Views: 24.1ms | ActiveRecord: 0.8ms)


Started GET "/signout" for ::1 at 2016-07-22 20:41:33 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 20:41:33 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (1.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 66ms (Views: 62.9ms | ActiveRecord: 1.3ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:41:37 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:41:37 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDHW2oCihfgacASTARHwRLu2hyANXNP8zd1zYebrSebxk81fz9EQ71-rK138uuKBvcfS6U6KVtYVSauEgYaS5jXq80r6ZDK5Vo5_9LcJq9YDMUD50y3lHIggky1us3kDVsiI651JZLEBGAftLM60Q8PO_jbPYag9mCqp9287vXbO8DaciwK2G23oCnRG1zFjT-h3tfkpkUzXj_sQFlQXZ8ffX_ql3HmWMH9jm6OcLZlbDLTh5BNpIT7OBqnQUBkzGQ3lECpmP9dtSHLP-SHVrDxrJ4GNrq0wQzYNgdnx9S9BMnguBDPfPmRsjw2ziYEWNs&state=e3e84f67288d929ad28d37d4ad5e94a5f97d529c93872c86" for ::1 at 2016-07-22 20:41:37 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDHW2oCihfgacASTARHwRLu2hyANXNP8zd1zYebrSebxk81fz9EQ71-rK138uuKBvcfS6U6KVtYVSauEgYaS5jXq80r6ZDK5Vo5_9LcJq9YDMUD50y3lHIggky1us3kDVsiI651JZLEBGAftLM60Q8PO_jbPYag9mCqp9287vXbO8DaciwK2G23oCnRG1zFjT-h3tfkpkUzXj_sQFlQXZ8ffX_ql3HmWMH9jm6OcLZlbDLTh5BNpIT7OBqnQUBkzGQ3lECpmP9dtSHLP-SHVrDxrJ4GNrq0wQzYNgdnx9S9BMnguBDPfPmRsjw2ziYEWNs", "state"=>"e3e84f67288d929ad28d37d4ad5e94a5f97d529c93872c86"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.7ms)


  
NoMethodError (undefined method `save' for Fri, 22 Jul 2016 20:41:38 +0200:DateTime):
  
app/controllers/sessions_controller.rb:8:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.6ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.0ms)
Started GET "/auth/facebook/callback?code=AQDHW2oCihfgacASTARHwRLu2hyANXNP8zd1zYebrSebxk81fz9EQ71-rK138uuKBvcfS6U6KVtYVSauEgYaS5jXq80r6ZDK5Vo5_9LcJq9YDMUD50y3lHIggky1us3kDVsiI651JZLEBGAftLM60Q8PO_jbPYag9mCqp9287vXbO8DaciwK2G23oCnRG1zFjT-h3tfkpkUzXj_sQFlQXZ8ffX_ql3HmWMH9jm6OcLZlbDLTh5BNpIT7OBqnQUBkzGQ3lECpmP9dtSHLP-SHVrDxrJ4GNrq0wQzYNgdnx9S9BMnguBDPfPmRsjw2ziYEWNs&state=e3e84f67288d929ad28d37d4ad5e94a5f97d529c93872c86" for ::1 at 2016-07-22 20:42:28 +0200
(facebook) Callback phase initiated.
(facebook) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"GkWtHBoYH\/9"}}
  
OAuth2::Error (: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"GkWtHBoYH\/9"}}):
  
oauth2 (1.2.0) lib/oauth2/client.rb:113:in `request'
oauth2 (1.2.0) lib/oauth2/client.rb:138:in `get_token'
oauth2 (1.2.0) lib/oauth2/strategy/auth_code.rb:29:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:114:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:71:in `block in callback_phase'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:135:in `with_authorization_code!'
omniauth-facebook (3.0.0) lib/omniauth/strategies/facebook.rb:70:in `callback_phase'
omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.5.2) lib/puma/configuration.rb:225:in `call'
puma (3.5.2) lib/puma/server.rb:569:in `handle_request'
puma (3.5.2) lib/puma/server.rb:406:in `process_client'
puma (3.5.2) lib/puma/server.rb:271:in `block in run'
puma (3.5.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.2ms)
Started GET "/" for ::1 at 2016-07-22 20:42:32 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (12.2ms)
Completed 200 OK in 37ms (Views: 32.9ms | ActiveRecord: 2.2ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:42:34 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:42:34 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDGh6Ome_GjdRFBtXocoWwfY9OAd7d6-tEyDaZb1y6ccMdtlwE-Xq01z7IUtDSa4yWVv9_COngAD2FFiYEqZzt0VFY-Nyqjn8InWhzITD1hVzjtDIzrs-mV_arfIJ77sjVA_2T4VbYCnewTp5Q_OagWKmox07ODSbglJiGfGJRTiMiWsbebT71lsrxUmGiWI6DQoSOjTr7OBH0_SFKv4RFV2bx9b48MZ8AaxmetEUonvq9Y_1CYLJTCBFHp-4YbTwf-BPW5WQoCm6dFQGoSwF5sUPmTt2Ydwky7m1rtXT_8SOMFI2NCQ37JkXFoJCXu5b8&state=297bf5e9349fb666d907a40ff77e8fc91b5397fc8d6f7b70" for ::1 at 2016-07-22 20:42:35 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDGh6Ome_GjdRFBtXocoWwfY9OAd7d6-tEyDaZb1y6ccMdtlwE-Xq01z7IUtDSa4yWVv9_COngAD2FFiYEqZzt0VFY-Nyqjn8InWhzITD1hVzjtDIzrs-mV_arfIJ77sjVA_2T4VbYCnewTp5Q_OagWKmox07ODSbglJiGfGJRTiMiWsbebT71lsrxUmGiWI6DQoSOjTr7OBH0_SFKv4RFV2bx9b48MZ8AaxmetEUonvq9Y_1CYLJTCBFHp-4YbTwf-BPW5WQoCm6dFQGoSwF5sUPmTt2Ydwky7m1rtXT_8SOMFI2NCQ37JkXFoJCXu5b8", "state"=>"297bf5e9349fb666d907a40ff77e8fc91b5397fc8d6f7b70"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 3.5ms)


  
NoMethodError (undefined method `finished=' for nil:NilClass):
  
app/controllers/sessions_controller.rb:9:in `create'
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.7ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/valentinebm/.rvm/gems/ruby-2.3.0/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (53.4ms)
Started GET "/" for ::1 at 2016-07-22 20:42:50 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.2ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:42:52 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:42:52 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQDeuTbGEZFiRG1asikGSB5AMSPfJcB3OQ_9O9s4vJWKiAxQVaMZYeWji3ZWPztEBTmQm9chsAIdo_ACRMpUpTDGMN3-aATWJonhfyxPqx3du9JjDTAPZAbmddP5HDALBm6mqywqyVaY4GqbfC9P6A2EufMdZqbvYSoGb4LK9NRKVWgJDFkEZQQ8pClbqDcDytMBVgpIDm72rPM_qKYSn6rwIpzx71nrwx1-0NhcsKvV3SQ2GGqYM4v8CAzvgIu9EhKB84mlTZxtf-SIac3D2TTx6QlKrv1GyDowPJEPNzA5zaLhCa7kdUn95CUzqVcd2Vc&state=47b1257ef6db0de6eb55e35185dde5ab27fd258a3a359db5" for ::1 at 2016-07-22 20:42:52 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDeuTbGEZFiRG1asikGSB5AMSPfJcB3OQ_9O9s4vJWKiAxQVaMZYeWji3ZWPztEBTmQm9chsAIdo_ACRMpUpTDGMN3-aATWJonhfyxPqx3du9JjDTAPZAbmddP5HDALBm6mqywqyVaY4GqbfC9P6A2EufMdZqbvYSoGb4LK9NRKVWgJDFkEZQQ8pClbqDcDytMBVgpIDm72rPM_qKYSn6rwIpzx71nrwx1-0NhcsKvV3SQ2GGqYM4v8CAzvgIu9EhKB84mlTZxtf-SIac3D2TTx6QlKrv1GyDowPJEPNzA5zaLhCa7kdUn95CUzqVcd2Vc", "state"=>"47b1257ef6db0de6eb55e35185dde5ab27fd258a3a359db5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "reigns" SET "finished" = $1, "updated_at" = $2 WHERE "reigns"."id" = $3[0m  [["finished", 2016-07-22 18:42:53 UTC], ["updated_at", 2016-07-22 18:42:53 UTC], ["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 18:42:53 UTC], ["updated_at", 2016-07-22 18:42:53 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 40ms (ActiveRecord: 10.0ms)


Started GET "/" for ::1 at 2016-07-22 20:42:53 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.3ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 26ms (Views: 23.8ms | ActiveRecord: 0.6ms)


Started GET "/signout" for ::1 at 2016-07-22 20:42:55 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 20:42:55 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 36ms (Views: 31.8ms | ActiveRecord: 0.4ms)


  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mReign Load (0.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (123.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_development"[0m
  [1m[35m (121.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_hill_test"[0m
  [1m[35m (242.6ms)[0m  [1m[35mCREATE DATABASE "the_hill_development" ENCODING = 'unicode'[0m
  [1m[35m (247.9ms)[0m  [1m[35mCREATE DATABASE "the_hill_test" ENCODING = 'unicode'[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6983220822191533920);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160721174809)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174809"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnToUsers (20160721174821)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "password" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "age_range" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "link" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "picture" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "locale" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160721174821"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReigns (20160722161552)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "reigns" ("id" serial primary key, "user_id" integer, "finished" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_reigns_on_user_id" ON "reigns"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160722161552"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-22 18:43:18 UTC], ["updated_at", 2016-07-22 18:43:18 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6983220822191533920)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reigns'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
Started GET "/" for ::1 at 2016-07-22 20:47:06 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (16.2ms)
Completed 200 OK in 387ms (Views: 374.1ms | ActiveRecord: 3.8ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:47:09 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:47:10 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQAHo_Je3r38FGn0Dp3fOAvibAZT_iM3S2O_iuJMsS8THZ1w-sgFPkGTvnneI2aaVwY8Ey7ShO3BcRWUMrDRJzZKbVh53wC7xyHuEYkuMwIz9vAtgXgYS0QVhiZEl9idsNnk4CcAAv0FiLylkb4gtqdW-9AUO71RcnvYMHqPGoFv80iD53ly7y9TPap9i1kO6-xJONBwbNd0YZa2NOtfq3H5nOqu8N-bTC8ttcqUpdrz9oAIhHK9zN4wnBEqYBh43oQ9_t6keZAzsKkfT-sdTled6ZCQ97aCvG1L7di5NoriKoynJ0tb7bmBzTQSuW6Szkk&state=774bade64ddd836b29e9771053869fdd172d04ddd6c02007" for ::1 at 2016-07-22 20:47:10 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQAHo_Je3r38FGn0Dp3fOAvibAZT_iM3S2O_iuJMsS8THZ1w-sgFPkGTvnneI2aaVwY8Ey7ShO3BcRWUMrDRJzZKbVh53wC7xyHuEYkuMwIz9vAtgXgYS0QVhiZEl9idsNnk4CcAAv0FiLylkb4gtqdW-9AUO71RcnvYMHqPGoFv80iD53ly7y9TPap9i1kO6-xJONBwbNd0YZa2NOtfq3H5nOqu8N-bTC8ttcqUpdrz9oAIhHK9zN4wnBEqYBh43oQ9_t6keZAzsKkfT-sdTled6ZCQ97aCvG1L7di5NoriKoynJ0tb7bmBzTQSuW6Szkk", "state"=>"774bade64ddd836b29e9771053869fdd172d04ddd6c02007"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "provider", "uid") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", 2016-07-22 18:47:11 UTC], ["updated_at", 2016-07-22 18:47:11 UTC], ["provider", "facebook"], ["uid", "10157207096260113"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "email" = $2, "password" = $3, "first_name" = $4, "last_name" = $5, "age_range" = $6, "link" = $7, "picture" = $8, "locale" = $9, "gender" = $10 WHERE "users"."id" = $11[0m  [["updated_at", 2016-07-22 18:47:11 UTC], ["email", "valentine.barbierm@gmail.com"], ["password", "10157207096260113"], ["first_name", "Valentine"], ["last_name", "BM"], ["age_range", "#<OmniAuth::AuthHash min=21>"], ["link", "https://www.facebook.com/app_scoped_user_id/10157207096260113/"], ["picture", "#<OmniAuth::AuthHash data=#<OmniAuth::AuthHash is_silhouette=false url=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/12931159_10156778216790113_3541013302885831509_n.jpg?oh=9de85a6902dbc2c120861965f5cf0cb1&oe=5827F3B0\">>"], ["locale", "en_GB"], ["gender", "female"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (1.4ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 18:47:11 UTC], ["updated_at", 2016-07-22 18:47:11 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 8.6ms)


Started GET "/" for ::1 at 2016-07-22 20:47:11 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 58ms (Views: 54.5ms | ActiveRecord: 1.3ms)


Started GET "/signout" for ::1 at 2016-07-22 20:47:32 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 20:47:32 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (0.6ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 44ms (Views: 40.6ms | ActiveRecord: 0.6ms)


Started GET "/auth/facebook" for ::1 at 2016-07-22 20:47:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook" for ::1 at 2016-07-22 20:47:35 +0200
(facebook) Request phase initiated.
Started GET "/auth/facebook/callback?code=AQBoDubtfb-kLRqLgW9ugsIg82xNAyzGyEBxJfdjo1_-yhUYhlqyBCpeGC5CKm9YIeLxnrEF4Bk-omXWD5jDyo63qA1EnVp7bHjE1Tk1_L95Yte7KCeX9mAH5MyUEAPTOwVYNTsQDG_duF_AwgctiKjnvVLXYckqJb5PzUf-GRJw6z2wIxRVJHmuqG5eAgrfIyT_xd_f-TtyvxjHdzXcOb7d1mySlva3UL9pK6kEIOxEAhRE_aftg4QkvEr2zd8f83GP7RYuJJTAb18muRDIRO6GYQR-82LIu8b__al2t1uUlDdJhIOg_FNDaHzraXz7DDo&state=9b7557d10c66b647350866c23985334662f97335b4b09e0a" for ::1 at 2016-07-22 20:47:35 +0200
(facebook) Callback phase initiated.
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBoDubtfb-kLRqLgW9ugsIg82xNAyzGyEBxJfdjo1_-yhUYhlqyBCpeGC5CKm9YIeLxnrEF4Bk-omXWD5jDyo63qA1EnVp7bHjE1Tk1_L95Yte7KCeX9mAH5MyUEAPTOwVYNTsQDG_duF_AwgctiKjnvVLXYckqJb5PzUf-GRJw6z2wIxRVJHmuqG5eAgrfIyT_xd_f-TtyvxjHdzXcOb7d1mySlva3UL9pK6kEIOxEAhRE_aftg4QkvEr2zd8f83GP7RYuJJTAb18muRDIRO6GYQR-82LIu8b__al2t1uUlDdJhIOg_FNDaHzraXz7DDo", "state"=>"9b7557d10c66b647350866c23985334662f97335b4b09e0a"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 AND "users"."provider" = $2 LIMIT $3[0m  [["uid", "10157207096260113"], ["provider", "facebook"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: You are passing an instance of ActiveRecord::Base to `exists?`. Please pass the id of the object by calling `.id`. (called from create_with_omniauth at /Users/valentinebm/Desktop/the_hill_app/app/models/user.rb:18)
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.2ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "reigns" SET "finished" = $1, "updated_at" = $2 WHERE "reigns"."id" = $3[0m  [["finished", 2016-07-22 18:47:36 UTC], ["updated_at", 2016-07-22 18:47:36 UTC], ["id", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "reigns" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", 2016-07-22 18:47:36 UTC], ["updated_at", 2016-07-22 18:47:36 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 3.9ms)


Started GET "/" for ::1 at 2016-07-22 20:47:36 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReign Load (0.7ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 1.7ms)


Started GET "/signout" for ::1 at 2016-07-22 20:54:04 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2016-07-22 20:54:04 +0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  [1m[36mReign Load (1.5ms)[0m  [1m[34mSELECT  "reigns".* FROM "reigns" ORDER BY "reigns"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered welcome/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 34ms (Views: 30.3ms | ActiveRecord: 1.5ms)


